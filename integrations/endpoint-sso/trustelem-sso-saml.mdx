---
title: Wallix Trustelem SSO (SAML)
sidebarTitle: Wallix Trustelem (SAML)
description: Use Wallix Trustelem SAML to secure access to ngrok endpoints with single sign-on.
---

import Disclaimer from "/snippets/integrations/_endpoint-sso-disclaimer.mdx";

<Disclaimer />

<Tip>
**TL;DR**

To secure access to ngrok with Wallix Trustelem single sign-on (SSO) using SAML:

1. [Configure Wallix Trustelem SSO](#configure-wallix)
2. [Configure ngrok](#configure-ngrok)
3. [Test access to ngrok with Wallix Trustelem SSO](#test-sso)
</Tip>

This guide walks you through configuring Wallix Trustelem as the primary Identity Provider for ngrok tunnels using single sign-on (SSO).
By integrating Wallix Trustelem SSO with ngrok, you can:

- Restrict access to ngrok tunnels only to users authenticated via Wallix Trustelem
- Use Wallix Trustelem security policies and MFA authenticators
- Use Wallix Trustelem's Dashboard to facilitate access to ngrok apps

## What you'll need

- A Wallix Trustelem account with administrative rights to create apps.
- An ngrok Enterprise account with an authtoken or admin access to configure edges with SAML.

## 1. Configure Wallix Trustelem 

1. Access the [WALLIX Trustelem administration console](https://admin.trustelem.com/login) and sign in using your Trustelem account.
2. On the **Dashboard** page, click **Apps** on the left menu, click **Add an application** and click the **SAML 2 application** tile in the **Generic models** section.
3. On the **Settings** popup, enter `ngrok saml` in the **Name** field, click **Save**, click **Download metadata files**, save the XML file on your desktop, and then click **Close**.

## 2. Configure ngrok 

To configure an edge with Wallix Trustelem:

1. Access the [ngrok Dashboard](https://dashboard.ngrok.com/) and sign in using your ngrok account.
2. On the left menu, click **Universal Gateway** and then click **Edges**.
3. If you don't have an edge already set to add Wallix Trustelem SSO, create a test edge:
   - Click **+ New Edge**.
   - Click **Create HTTPS Edge**.
   - Click the **pencil icon** next to "no description", enter `Edge with Trustelem SSO SAML` as the edge name, and click **Save**.
4. On the edge settings menu, click **SAML**.
5. On the **SAML** page, click **Begin setup**, click **Upload XML**, and then open the XML metadata file you downloaded from Wallix Trustelem (See [Download the IdP metadata](#configure-wallix)).
6. Click **Save** at the top.
7. On the **SAML** page of your [ngrok edge](https://dashboard.ngrok.com/edges), make note of the URL of both the **Entity ID** and **ACS URL** fields.

## 3. Link Wallix Trustelem with ngrok 

1. On the [WALLIX Trustelem administration console](https://admin.trustelem.com/login), click **Apps** on the left menu, and then click your application.
2. On the **Settings** popup, click **Edit**, paste the **Entity ID** URL in the **EntityID** field and the **ACS URL** URL in the **Assertion Consumer Service** field.
You copied both URLs from the previous step.
3. Click **Save**.

## 4. Start a tunnel 

1. Access the [ngrok edges page](https://dashboard.ngrok.com/edges), click your edge, and then click **Start a tunnel**.

   <Note>
   This step assumes you have an app running locally (for example, on `localhost:3000`) with the ngrok client installed.
   </Note>

2. Click the **copy icon** next to the tunnel command.
3. Launch a tunnel:
   - Launch a terminal.
   - Paste the command but replace `http://localhost:80` with your localhost app address (such as `http://localhost:3000`).
   - Press **Enter** and an ngrok tunnel associated with your edge configuration will launch.
4. To confirm that the tunnel is connected to your edge:
   - Return to the ngrok dashboard.
   - Close the **Start a tunnel** and the **Tunnel group** tabs.
   - Refresh the test edge page.
   Under traffic, you will see the message _You have 1 tunnel online. Start additional tunnels to begin load balancing_.
5. In the test edge, copy the **endpoint URL**.
You use this URL to test the Wallix Trustelem authentication.

## Grant access to Wallix Trustelem users 

Wallix Trustelem allows their users to access SAML-integrated apps.
To create a user, follow the instructions below:

1. On the left menu of the [WALLIX Trustelem administration console](https://admin.trustelem.com/login), click **Users** and then click **Create User**.
2. Enter values for **First Name**, **Last Name**, and **Primary Email** fields, and then click **Save**.

## Test the integration

1. In your browser, launch an incognito window.
2. Access your ngrok tunnel (for example, `https://trustelem-sso-test.ngrok.app` or using the copied endpoint URL).
3. You should be prompted to log in with your Wallix Trustelem credentials.
4. After logging in, you should be able to see your web app.
