---
title: Auth0 Endpoint SSO (OpenID Connect)
sidebarTitle: Auth0 (OpenID Connect)
description: Use Auth0 OpenID Connect (OIDC) to secure access to ngrok endpoints with single sign-on.
---

import Disclaimer from "/snippets/integrations/_endpoint-sso-disclaimer.mdx";

<Disclaimer />

This guide shows you how to configure Auth0 as the primary Identity Provider for ngrok tunnels using single sign-on (SSO).
By integrating Auth0 SSO with ngrok, you can:

- Restrict access to ngrok tunnels only to users authenticated via Auth0
- Use Auth0 security policies and MFA authenticators
- Use Auth0's Dashboard to facilitate access to ngrok apps

The ngrok integration with Auth0 supports SP-Initiated SSO.
In this mode, users access ngrok edges and tunnels and are redirected to Auth0 for authentication.

## What you'll need

- An Auth0 account with administrative rights to create apps.
- An ngrok Enterprise account with an authtoken or admin access to configure edges with OpenID Connect.

## 1. Configure Auth0

### Add the ngrok app in Auth0

- Access the Auth0 Dashboard and sign in using your Auth0 account.
- On the left menu, click **Applications**, click **Applications**, and then click **Create Application**.
- On the **Create application** popup, enter `ngrok oidc` in the **name** field, click the **Single Page Web Applications** tile, and then click **Create**.
- On the **ngrok oidc** page, click the **Settings** tab and make note of the **Domain**, **Client ID**, and **Client Secret** values.
- Enter `https://idp.ngrok.com/oauth2/callback` in the **Allowed Callback URLs** field, and enter the URL provided by the ngrok agent to expose your application to the internet in the **Application Login URI** field (for example, `https://myexample.ngrok.app`).
- Click **Save Changes**.

### Grant access to Auth0 users

Auth0 allows administrators to restrict access to SSO apps—such as ngrok—via user group assignments.
By default, apps created in Auth0 have no group assignments; in other words, nobody can use Auth0 SSO to access ngrok until you assign a group to the app.

To assign Auth0 groups to the ngrok app:

- On the Auth0 Dashboard, click **User Management** on the left menu, click **Users**, and then click **Create User**.
- Enter an email address in the **Email** field, provide a **Password**, and then click **Create**.

## 2. Configure ngrok

ngrok can work with Auth0 SSO in two ways:

- From the ngrok CLI (using the `--oidc` parameter)
- From the ngrok dashboard

### **Option 1**: ngrok CLI

<Note>
  This step assumes you have an app running locally (for example, at
  `localhost:3000`) with the ngrok client installed.
</Note>

- Launch a terminal.
- Enter the following command to launch an ngrok tunnel with Auth0 SSO:

  ```bash
  ngrok http 3000 --oidc=AUTH0_OAUTH_URL \
  --oidc-client-id=Auth0_CLIENT_ID \
  --oidc-client-secret=Auth0_CLIENT_SECRET \
  ```

  Replace the following with values:
  - `Auth0_OAUTH_URL`: The domain value you copied from Auth0, in the form of a URL (for example, `https://dev-abcd1234.us.auth0.com/`).
  - `Auth0_CLIENT_ID`: The client ID you copied from Auth0.
  - `Auth0_CLIENT_SECRET`: The client secret you copied from Auth0.

  Alternatively, add the `--url YOUR_DOMAIN` argument to get your custom URL, replacing `YOUR_DOMAIN` with your URL of preference.

- Copy the URL available next to **Forwarding** (for example, `https://auth0-sso-test.ngrok.app`).
- Continue to [Test the integration](#3-test-the-integration).

### **Option 2**: ngrok edge

To configure an edge with Auth0:

- Access the [ngrok Dashboard](https://dashboard.ngrok.com/) and sign in using your ngrok account.
- On the left menu, click **Universal Gateway** and then click **Edges**.
- If you don't have an edge already set to add Auth0 SSO, create a test edge:
  - Click **+ New Edge**.
  - Click **Create HTTPS Edge**.
  - Click the **pencil icon** next to "no description", enter `Edge with Auth0 SSO OIDC` as the edge name, and click **Save**.
- On the edge settings menu, click **OIDC**.
- Click **Begin setup** and enter the following values into the fields:
  - **Issuer URL**: The domain value you copied from Auth0, in the form of a URL (for example, `https://dev-abcd1234.us.auth0.com/`).
  - **Client ID**: The client ID you copied from Auth0.
  - **Client Secret**: The client secret you copied from Auth0.
- Click **Save** at the top, and then click the left arrow to go back to the **Edges** page.
- Launch a tunnel connected to your Auth0 edge:

<Tip>
  This step assumes you have an app running locally (for example, at
  `localhost:3000`) with the ngrok client installed.
</Tip>

- Click **Start a tunnel**.
- Click the **copy icon** next to the tunnel command.
- Launch a tunnel:
  - Launch a terminal.
  - Paste the command but replace `http://localhost:80` with your localhost app address (such as `http://localhost:3000`).
  - Press **Enter** and an ngrok tunnel associated with your edge configuration will launch.
- To confirm that the tunnel is connected to your edge:
  - Return to the ngrok dashboard.
  - Close the **Start a tunnel** and the **Tunnel group** tabs.
  - Refresh the test edge page.
    Under traffic, you will see the message _You have 1 tunnel online. Start additional tunnels to begin load balancing._
- In the test edge, copy the **endpoint URL**.
  You use this URL to test the Auth0 authentication.

## 3. Test the integration

- In your browser, launch an incognito window.
- Access your ngrok tunnel (for example, `https://auth0-sso-test.ngrok.app` or using the copied endpoint URL).
- You should be prompted to log in with your Auth0 credentials.
- After logging in, you should be able to see your web app.
