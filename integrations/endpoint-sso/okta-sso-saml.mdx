---
title: Secure your endpoints with Okta SSO (SAML)
sidebarTitle: Okta (SAML)
description: Secure access to your ngrok endpoints with Okta single sign-on (SSO) using SAML.
---

import Disclaimer from "/snippets/integrations/_endpoint-sso-disclaimer.mdx";

<Disclaimer />
<Tip>
**TL;DR**



To secure access to ngrok with Okta single sign-on (SSO) using SAML:

1. [Configure Okta SSO](#configure-okta)
2. [Configure ngrok](#configure-ngrok)
3. [Test access to ngrok with Okta SSO](#test-sso)
</Tip>

This guide shows you how to configure Okta as the primary Identity Provider for ngrok tunnels using single sign-on (SSO).
By integrating Okta SSO with ngrok, you can:

- **Restrict access to ngrok tunnels** only to users authenticated via Okta
- **Use Okta security policies, MFA authenticators**—including Okta Verify, FastPass, and FIDO2—**and ThreatInsights to control access to ngrok tunnels**.
- **Use Okta's Dashboard to facilitate access to ngrok apps**.

## What you'll need

- An Okta account with administrative rights to create apps.
- An ngrok Enterprise account with an authtoken or admin access to configure edges with SAML.

## Configuration steps

To integrate ngrok with Okta SSO, you need to:

1. Configure Okta with the ngrok app.
2. Configure ngrok with the SSO settings provided by Okta.

## 1. Configure Okta 

### Add the ngrok app in Okta

1. Access your Okta Dashboard as an administrator and then click **Admin**.
1. Click **Application** > **Applications** .
1. Click **Create App Integration**,
1. Select _SAML 2.0_, and then click **Next**.
1. Enter the **Application label**—this is the app name that will be displayed in the okta dashboard for end users—and click **Next**.
1. Enter in temporary values for "Single sign on URL" and "Audience URI" and select "EmailAddress" for "Name ID format" and then click "Next".
   1. **Single sign-on URL**: https://temporary
   1. **Audience URI (SP Entity ID)**: https://temporary
   1. **Name ID format**: Email
1. Select **I’m an Okta customer adding an internal app** and click **Finish**.
1. Click **Done**.
1. Under the **Sign On** tab of the ngrok application, **copy the Client ID and Client Secret**. These values will be used at ngrok to complete the configuration.

### Download the IdP metadata

1. Navigate to the **Sign On** tab on the new app and click **Actions** under the Active SHA-2 certificate and select **View IdP metadata**.
The metadata will open in a new tab.
2. In the new tab, select **Save As** from the File menu to save your `metadata.xml` file for uploading into ngrok in a later step.

### Grant access to Okta people and groups

Okta allows administrators to restrict access to SSO apps—such as ngrok—via assignments. By default, apps created in Okta have no assignments; in other words, nobody can use Okta SSO to access ngrok until you assign them to the app. To assign Okta users and groups to the ngrok app:

1. Navigate to the **Assignments** tab.
2. Use the **Assign** button to associate groups and users with the ngrok app.
To test the SSO with ngrok, make sure you're assigned to the app.

## 2. Configure ngrok 

### ngrok edge

To configure an edge with Okta:

1. Go to dashboard.ngrok.com.
2. Click **Universal Gateway > Edges**.
3. If you don't have an edge already set to add Okta SSO, create a test edge:
   - Click **New Edge**.
   - Click **HTTPS Edge**.
   - Click the **pencil icon** next to "no description".
   Enter `Edge with Okta SSO` as the edge name and click **Save**.
4. On the edge settings, click **SAML**.
5. Click **Begin setup** and click **Upload XML** beside **IdP Metadata** under **Identity Provider** and select your metadata file saved from the steps above.
6. Click **Save** at the top.
7. After you save, the SP Metadata will appear.
Copy these values into Okta where temporary values were placed above.
8. Save the changes in Okta.
9. Launch a tunnel connected to your Okta edge:

   <Note>
   This step assumes you have an app running locally (for example, on `localhost:3000`) with the ngrok client installed.
   </Note>

10. Click **Start a tunnel**.
11. Click the **copy icon** next to the tunnel command.
12. Launch a tunnel:
    - Launch a terminal.
    - Paste the command.
    Replace `http://localhost:80` with your local web app address (such as `http://localhost:3000`).
    - Press **Enter**.
    An ngrok tunnel associated with your edge configuration will launch.
13. To confirm that the tunnel is connected to your edge:
    - Return to the ngrok dashboard.
    - Close the **Start a tunnel** and the **Tunnel group** tabs.
    - Refresh the test edge page.
    Under traffic, you will see the message _You have 1 tunnel online. Start additional tunnels to begin load balancing_.
14. In the test edge, copy the **endpoint URL**.
You will use this URL to test the Okta authentication.

## 3. Test the integration

1. In your browser, launch an incognito window.
2. Access your ngrok tunnel (for example, `https://okta-sso-test.ngrok.app` or using a copied URL).
3. You should be prompted to log in with your Okta credentials.
4. After logging in, you should be able to see your web app.
