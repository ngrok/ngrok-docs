---
title: Okta Webhooks
sidebarTitle: Okta
description: Develop and test Okta webhooks from localhost.
---


import InspectingRequests from "/snippets/integrations/_inspecting-requests.mdx";
import ReplayingRequests from "/snippets/integrations/_replaying-requests.mdx";

This guide explains how to use ngrok to receive Okta webhooks on your localhost app.

By integrating ngrok with Okta, you can:

- Develop and test Okta webhooks locally without deploying to a public environment or setting up HTTPS.
- Inspect and troubleshoot requests from Okta in real time via the inspection UI and API.
- Modify and replay Okta webhook requests with a single click instead of reproducing events manually in your Okta account.
- Secure your app with Okta webhook validation provided by ngrok.
  Invalid requests are blocked by ngrok before reaching your app.

## What you'll need

- An [ngrok account](https://ngrok.com/signup) and your [authtoken](https://dashboard.ngrok.com/get-started/your-authtoken).
- The [ngrok agent](https://ngrok.com/download) installed.
- [Node.js](https://nodejs.org/) installed (for the sample app, or use your own app).
- An Okta account.

## 1. Start your app

For this tutorial, you can use the [sample Node.js app on GitHub](https://github.com/ngrok/ngrok-webhook-nodejs-sample).

To install the sample, run the following in a terminal:

```bash
git clone https://github.com/ngrok/ngrok-webhook-nodejs-sample.git
cd ngrok-webhook-nodejs-sample
npm install
```

Then start the app:

```bash
npm run startOkta
```

The app runs on port 3000 by default.

You can confirm it's running by visiting `http://localhost:3000`.
The app logs request headers and body in the terminal and shows a message in the browser.

## 2. Expose your app with ngrok

Once your app is running locally, you're ready to put it online securely using ngrok.

- Copy [your ngrok authtoken](https://dashboard.ngrok.com/get-started/your-authtoken) from the dashboard.

<Tip>  The ngrok agent uses your authtoken to authenticate when you start a tunnel.
</Tip>

- Start ngrok:

  ```bash
  ngrok http 3000
  ```

- Copy the URL ngrok displays.
  Your app is now exposed at that URL for use with Okta.

## 3. Configure Okta to send webhooks

Okta can send webhook requests to your app when events occur in your account.
To register for those events:

- Sign in to your Okta tenant (for example, `https://mytenant.okta.com/`).
- Click **Workflow**, **Event Hooks**, and then **Create Event Hook**.
- On **Add Event Hook Endpoint**, enter a name in **Name** (for example, `My Webhook`) and your ngrok URL in **URL** (for example, `https://1a2b-3c4d-5e6f-7g8h-9i0j.ngrok.app`).
- In **Subscribe to events**, select **User sign in attempt** and click **Save & Continue**.
- On the **Verification** page, click **Verify** so Okta can contact your localhost through ngrok.

### Run webhooks with Okta and ngrok

Okta sends different request body contents depending on the event.
To test your webhook:

- On the **Event Hooks** page, click **Actions** for your webhook and then **Preview**.
- On the **Preview** page, select an **Event Type** and click **Deliver Request**.

Confirm your localhost app receives the event and logs both headers and body in the terminal.

You can also trigger events by signing out of the Okta console and signing in again, then clicking **Admin** to enter the admin console.

<InspectingRequests />

<ReplayingRequests />
