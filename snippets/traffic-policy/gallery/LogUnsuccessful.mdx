  <CodeGroup>
    ```json policy.json
    {
      "on_http_request": [],
      "on_http_response": [
        {
          "expressions": ["res.status_code < '200' && res.status_code >= '300'"],
          "name": "Log unsuccessful requests",
          "actions": [
            {
              "type": "log",
              "config": {
                "metadata": {
                  "message": "Unsuccessful request",
                  "edge_id": "<YOUR-NGROK-DOMAIN>",
                  "success": false
                }
              }
            }
          ]
        }
      ]
    }
    ```

    ```yaml policy.yml
    on_http_request: []
    on_http_response:
      - expressions:
          - res.status_code < '200' && res.status_code >= '300'
        name: Log unsuccessful requests
        actions:
          - type: log
            config:
              metadata:
                message: Unsuccessful request
                edge_id: <YOUR-NGROK-DOMAIN>
                success: false
    ```

  </CodeGroup>
