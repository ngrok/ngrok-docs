### Rewrite using Paths

The following [Traffic Policy](/traffic-policy/)
configuration demonstrates how to use the `url-rewrite` action to transparently
rewrite the request URL from `/products` to `/products.php`.

#### Example Traffic Policy Document

<CodeGroup>
```yaml policy.yml {4,6-13}
on_http_request:
  - expressions:
      - req.url.path == '/products'
    actions:
      - type: url-rewrite
        config:
          from: /products
          to: /products.php
```

```json policy.json {5,8-14}
{
	"on_http_request": [
		{
			"expressions": ["req.url.path == '/products'"],
			"actions": [
				{
					"type": "url-rewrite",
					"config": {
						"from": "/products",
						"to": "/products.php"
					}
				}
			]
		}
	]
}
```

</CodeGroup>

This configuration will rewrite any request to `/products` to `/products.php`
without changing the URL seen by the client. This is useful for hiding away
the underlying implementation details of your service.

#### Example Request

```bash
$ curl -i https://example.ngrok.app/products
```

```http
HTTP/2 200 OK
```

##### Example Server Logs

```http
GET /product.php               200 OK
```

#### Conclusion

In this example, a request to `/products` is internally
routed to `/products.php`, and the response is served
from `products.php` while the client remains unaware
of the URL rewrite.
