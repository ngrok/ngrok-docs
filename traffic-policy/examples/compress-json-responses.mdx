---
title: Compress JSON Responses Example
sidebarTitle: Compress JSON Responses
---



With Traffic Policy, you can ensure all JSON responses returned by your upstream services are [compressed](/traffic-policy/actions/compress-response) en route to the API consumer.

This rule compresses JSON responses using the `gzip`, `br`, `deflate`, and `compress` algorithms.

<Note>
If your upstream service already handles compression, ngrok skips this step.
</Note>

<CodeGroup>

```yaml policy.yml
on_http_response:
- name: Add compression
  actions:
  - type: compress-response
    config:
      algorithms:
      - gzip
      - br
      - deflate
      - compress
```

```json policy.json
{
  "on_http_response": [
    {
      "name": "Add compression",
      "actions": [
        {
          "type": "compress-response",
          "config": {
            "algorithms": [
              "gzip",
              "br",
              "deflate",
              "compress"
            ]
          }
        }
      ]
    }
  ]
}
```

</CodeGroup>

See [the `compress-response` Traffic Policy action docs](/traffic-policy/actions/compress-response/) for more information.
