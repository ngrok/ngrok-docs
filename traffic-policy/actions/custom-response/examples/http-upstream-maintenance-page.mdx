import ConfigExample from "/src/components/ConfigExample.tsx";

### Custom Response for Internal Endpoint Downtime

The following [Traffic Policy](/docs/traffic-policy/)
configuration demonstrates how to use the `custom-response` action to redirect to a URL if an internal endpoint is returning an error.

#### Example Traffic Policy Document

<ConfigExample
	hideAgentConfig
	config={{
		on_http_request: [
			{
				actions: [
					{
						type: "forward-internal",
						config: {
							url: "https://endpoint-1.internal",
							on_error: "continue",
						},
					},
					{
						type: "custom-response",
						config: {
							status_code: 302,
							headers: {
								location: "https://www.example.com",
							},
						},
					},
				],
			},
		],
	}}
/>
