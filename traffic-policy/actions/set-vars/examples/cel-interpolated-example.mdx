import ConfigExample from "/src/components/ConfigExample.tsx";

### CEL Interpolation Example

The following [Traffic Policy](/docs/traffic-policy/) configuration is an example of using CEL-interpolation with the `set-vars` action.

#### Example Traffic Policy Document

<ConfigExample
	snippetText={null}
	showLineNumbers={true}
	jsonMetastring="{5-51}"
	yamlMetastring="{4-28}"
	config={{
		on_http_request: [
			{
				actions: [
					{
						type: "set-vars",
						config: {
							vars: [
								{
									sample_string: "x-foo header: ${request.headers['x-foo']}",
								},
								{
									sample_uint: "${uint(1.5) + 10u}",
								},
								{
									sample_int: "${int(50.5)}",
								},
								{
									sample_map: { pem: "${conn.tls.client.pem}" },
								},
							],
						},
					},
				],
			},
		],
	}}
/>
