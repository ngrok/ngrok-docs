import ConfigExample from "/src/components/ConfigExample.tsx";

### Running in test mode

The following configuration demonstrates how to run the `owasp-crs-response` action in test mode where rules are evaluated but blocks are not enforced.

#### Example Traffic Policy Document

<ConfigExample
	snippetText={null}
	showLineNumbers={true}
	yamlMetastring="{4-11}"
	jsonMetastring="{5-11}"
	config={{
   on_http_response: [
     {
       actions: [
         {
           type: "owasp-crs-response",
           config: {
             on_error: "continue",
           },
         },
         {
           type: "log",
           config: {
              metadata: {
                message: "OWASP CRS response action would be ${actions.ngrok.owasp_crs_response.decision} for ${req.url}",
                error_code: "${actions.ngrok.owasp_crs_response.error.code}",                       
                error_message: "${actions.ngrok.owasp_crs_response.error.message}",                 
                matched_rules_first_id: "${actions.ngrok.owasp_crs_response.matched_rules[0].id}",
                matched_rules_first_message: "${actions.ngrok.owasp_crs_response.matched_rules[0].message}",
                matched_rules_first_data: "${actions.ngrok.owasp_crs_response.matched_rules[0].data}",
              },
            },
          },
        ],
      },
    ],
  }}
/>
