## Configuration Reference

This is the [Traffic Policy](/docs/http/traffic-policy/) configuration
reference for this action.

### Action Type

`restrict-ips`

### Configuration Fields

| Parameter     | Type                                        | Description                                                                                                         |
| ------------- | ------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| `enforce`     | `bool`                                      | Default true. If false, continue to the next action even if the IP is not permitted.                                |
| `allow`       | `[]string`                                  | A list of of CIDRs that are allowed.                                                                                |
| `deny`        | `[]string`                                  | A list of of CIDRs that are denied.                                                                                 |
| `ip_policies` | [`[]ref`](/docs/api/resources/ip-policies/) | List of [IP Policy](/docs/api/resources/ip-policies/) identifiers to be checked if the source IP is allowed access. |

### Supported Phases

- `on_http_request`
- `on_http_response`
- `on_tcp_connect`
