import {
	Config,
	ConfigEnum,
	ConfigEnumOption,
	ConfigItem,
} from "/src/components/ConfigTable.tsx";

## Configuration Reference

The [Traffic Policy](/traffic-policy/) configuration
reference for this action.

### Supported Phases

`on_http_request`, `on_http_response`, `on_tcp_connect`

### Type

`restrict-ips`

### Configuration Fields

<Config>
    <ConfigItem title="enforce" type="boolean" required={true}>
        <p>Default true. If false, continue to the next action even if the IP is not permitted.</p>
    </ConfigItem>

    <ConfigItem title="allow" type="array of strings" required={false} cel={true}>
        <p>A list of CIDRs that are allowed.</p>
        <p>Supports [CEL Interpolation](/traffic-policy/concepts/cel-interpolation).</p>
    </ConfigItem>

    <ConfigItem title="deny" type="array of strings" required={false} cel={true}>
        <p>A list of CIDRs that are denied.</p>
        <p>Supports [CEL Interpolation](/traffic-policy/concepts/cel-interpolation).</p>
    </ConfigItem>

    <ConfigItem title="ip_policies" type="array of refs" required={false}>
        <p>List of <a href="/docs/api/resources/ip-policies/">IP Policy</a> identifiers to be checked if the source IP is allowed access.</p>
    </ConfigItem>

</Config>
