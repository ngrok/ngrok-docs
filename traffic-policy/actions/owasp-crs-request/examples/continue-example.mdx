import ConfigExample from "/src/components/ConfigExample.tsx";

### Running in test mode

The following configuration demonstrates how to run the `owasp-crs-request` action in test mode where rules are evaluated but blocks are not enforced.

#### Example Traffic Policy Document

<ConfigExample
	snippetText={null}
	showLineNumbers={true}
	yamlMetastring="{4-11}"
	jsonMetastring="{5-11}"
	config={{
		on_http_request: [
			{
				actions: [
					{
						type: "owasp-crs-request",
						config: {
              on_error: "continue",
						},
          },
          {
						type: "log",
						config: {
              metadata: {
                message: "OWASP CRS request action would be ${actions.ngrok.owasp_crs_request.decision} for ${req.url}",
                error_code: "${actions.ngrok.owasp_crs_request.error.code}",                       
                error_message: "${actions.ngrok.owasp_crs_request.error.message}",                 
                matched_rules_first_id: "${actions.ngrok.owasp_crs_request.matched_rules[0].id}",
                matched_rules_first_message: "${actions.ngrok.owasp_crs_request.matched_rules[0].message}",
                matched_rules_first_data: "${actions.ngrok.owasp_crs_request.matched_rules[0].data}",
              },
						},
					},
				],
			},
		],
	}}
/>
