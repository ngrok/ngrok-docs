import ConfigExample from "/src/components/ConfigExample.tsx";

## Connection Variables

The following variables are available under the `conn` namespace:

| Name                                       | Type        | Description                                                                                                                               |
| ------------------------------------------ | ----------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| [`conn.client_ip`](#connclient_ip)         | `string`    | Source IP of the connection to the ngrok endpoint.                                                                                        |
| [`conn.client_port`](#connclient_port)     | `int32`     | Source port of the connection to the ngrok endpoint.                                                                                      |
| [`conn.server_ip`](#connserver_ip)         | `string`    | The IP that this connection was established on.                                                                                           |
| [`conn.server_port`](#connserver_port)     | `int32`     | The port that this connection was established on.                                                                                         |
| [`conn.server_region`](#connserver_region) | `string`    | The ngrok [PoP (Point of Presence)](/docs/network-edge/#points-of-presence) that this connection was established on and serviced through. |
| [`conn.ts.start`](#conntsstart)            | `timestamp` | Timestamp when the connection to ngrok was started.                                                                                       |

### `conn.client_ip`

Source IP of the connection to the ngrok endpoint.

<ConfigExample
	config={{ expressions: ["conn.client_ip in ['::1', '127.0.0.1']"] }}
/>

### `conn.client_port`

Source port of the connection to the ngrok endpoint.

<ConfigExample config={{ expressions: ["conn.client_port == 80"] }} />

### `conn.server_ip`

The IP that this connection was established on.

<ConfigExample
	config={{
		expressions: ["conn.server_ip == '192.168.1.1'"],
	}}
/>

### `conn.server_port`

The port that this connection was established on.

<ConfigExample
	config={{
		expressions: ["conn.server_port == 80"],
	}}
/>

### `conn.server_region`

The ngrok [PoP (Point of Presence)](/docs/network-edge/#points-of-presence) that this connection was established on and serviced through.

<ConfigExample
	config={{
		expressions: ["conn.server_region == 'eu'"],
	}}
/>

### `conn.ts.start`

Timestamp when the connection to ngrok was started.

<ConfigExample
	config={{
		expressions: ["conn.ts.start > timestamp('2023-12-31T00:00:00Z')"],
	}}
/>
