---
title: Compress JSON Responses Example
sidebar_label: Compress JSON Responses
---

import ConfigExample from "@components/ConfigExample.tsx";

With Traffic Policy, you can ensure all JSON responses returned by your upstream services are [compressed](/traffic-policy/actions/compress-response.mdx) en route to the API consumer.

This rule compresses JSON responses using the `gzip`, `br`, `deflate`, and `compress` algorithms.

:::note
If your upstream service already handles compression, ngrok skips this step.
:::

<ConfigExample
	config={{
		on_http_response: [
			{
				name: "Add compression",
				actions: [
					{
						type: "compress-response",
						config: {
							algorithms: ["gzip", "br", "deflate", "compress"],
						},
					},
				],
			},
		],
	}}
/>

See [the `compress-response` Traffic Policy action docs](/traffic-policy/actions/compress-response/) for more information.
