---
sidebar_position: 0
title: Traffic Policy Actions
sidebar_label: Overview
pagination_next: traffic-policy/actions/add-headers
pagination_label: Actions

categories:
  - id: connection-modification
    name: Connection Modification
    description: Actions that can modify incoming connections.

  - id: request-modification
    name: Request Modification
    description: Actions that can modify incoming requests.

  - id: response-modification
    name: Response Modification
    description: Actions that can modify outgoing responses.

  - id: security
    name: Security & Validation
    description: Actions that enforce security rules or validate incoming requests.

  - id: traffic-control
    name: Traffic Control
    description: Actions that directly control traffic flow by denying, forwarding, or restricting access.

actions:
  - type: add-headers
    name: Add Headers
    description: Add headers to your incoming requests or outgoing responses.
    phases:
      - on_http_request
      - on_http_response
    categories:
      - request-modification
      - response-modification
    tpu_cost: 0

  - type: basic-auth
    name: Basic Auth
    description: Enforce HTTP Basic Auth for your HTTP endpoints.
    phases:
      - on_http_request
    categories:
      - security
    tpu_cost: 0

  - type: circuit-breaker
    name: Circuit Breaker
    description: Maintain system reliability by rejecting requests when error rates exceed defined thresholds.
    phases:
      - on_http_request
    categories:
      - traffic-control
      - request-modification
    tpu_cost: 10

  - type: close-connection
    name: Close Connection
    description: Close a client's connection to ngrok before it is further processed or tunneled to any of your upstream services.
    phases:
      - on_tcp_connect
      - on_http_request
    categories:
      - traffic-control
    tpu_cost: 0

  - type: compress-response
    name: Compress Response
    description: Compress HTTP response bodies from your upstream server.
    phases:
      - on_http_request
      - on_http_response
    categories:
      - response-modification
    tpu_cost: 10

  - type: custom-response
    name: Custom Response
    description: Send a custom HTTP response directly back to the client.
    phases:
      - on_http_request
      - on_http_response
    categories:
      - response-modification
    tpu_cost: 0

  - type: deny
    name: Deny
    description: Deny incoming traffic to your endpoint at the HTTP layer.
    phases:
      - on_http_request
      - on_tcp_connect
    categories:
      - traffic-control
      - connection-modification
    tpu_cost: 0

  - type: forward-internal
    name: Forward Internal
    description: Forward traffic to an internal endpoint within the same ngrok account.
    phases:
      - on_http_request
      - on_tcp_connect
    categories:
      - traffic-control
      - connection-modification
    tpu_cost: 0

  - type: http-request
    name: HTTP Request
    description: Send an HTTP request to a third-party API and return the response.
    phases:
      - on_http_request
      - on_http_response
    categories:
      - traffic-control
      - connection-modification
    tpu_cost: 1

  - type: jwt-validation
    name: JWT Validation
    description: Validate JSON Web Tokens (JWTs) on your incoming requests.
    phases:
      - on_http_request
    categories:
      - security
    tpu_cost: 10

  - type: log
    name: Log
    description: Add log metadata to events for logging and monitoring.
    phases:
      - on_http_request
      - on_http_response
      - on_tcp_connect
    categories:
      - connection-modification
      - response-modification
      - request-modification
    tpu_cost: 0

  - type: oauth
    name: OAuth
    description: Add OAuth login for your HTTP endpoints.
    phases:
      - on_http_request
    categories:
      - security
    tpu_cost: 0

  - type: oidc
    name: OpenID Connect (OIDC)
    description: Add OpenID Connect login for your HTTP endpoints.
    phases:
      - on_http_request
    categories:
      - security
    tpu_cost: 0

  - type: owasp-crs-request
    name: OWASP/CRS Request
    description: Add OWASP CoreRuleSet to incoming HTTP requests to your endpoints.
    phases:
      - on_http_request
    categories:
      - security
      - traffic-control
      - request-modification
    tpu_cost: 10

  - type: owasp-crs-response
    name: OWASP/CRS Response
    description: Add OWASP CoreRuleSet to outgoing HTTP responses from your endpoints.
    phases:
      - on_http_response
    categories:
      - security
      - traffic-control
      - response-modification
    tpu_cost: 10

  - type: rate-limit
    name: Rate Limit
    description: Rate limit incoming traffic to your endpoint before it hits your upstream servers.
    phases:
      - on_http_request
    categories:
      - traffic-control
      - request-modification
    tpu_cost: 1

  - type: redirect
    name: Redirect
    description: Redirect users through URL transformations using regular expressions.
    phases:
      - on_http_request
    categories:
      - request-modification
    tpu_cost: 10

  - type: remove-headers
    name: Remove Headers
    description: Remove headers from incoming requests or outgoing responses.
    phases:
      - on_http_request
      - on_http_response
    categories:
      - request-modification
      - response-modification
    tpu_cost: 1

  - type: restrict-ips
    name: Restrict IPs
    description: Allow or deny incoming traffic based on the client IP.
    phases:
      - on_http_request
      - on_tcp_connect
    categories:
      - security
      - connection-modification
    tpu_cost: 10

  - type: set-vars
    name: Set Vars
    description: Set custom variables for use in your traffic policy.
    phases:
      - on_http_request
      - on_http_response
      - on_tcp_connect
    categories:
      - request-modification
      - response-modification
      - connection-modification
    tpu_cost: 0

  - type: terminate-tls
    name: Terminate TLS
    description: Control the behavior of TLS termination on your endpoints.
    phases:
      - on_tcp_connect
    categories:
      - connection-modification
      - security
    tpu_cost: 100

  - type: url-rewrite
    name: URL Rewrite
    description: Rewrite request URLs transparently using regular expressions.
    phases:
      - on_http_request
    categories:
      - request-modification
    tpu_cost: 10

  - type: verify-webhook
    name: Verify Webhook
    description: Validate incoming signatures against a known secret to ensure authenticity.
    phases:
      - on_http_request
    categories:
      - security
    tpu_cost: 1
---

import ActionHub from "@site/src/components/ActionHub";

# Actions

Traffic Policy Actions enable you to manipulate, route or manage traffic on your endpoints in various ways.

[Learn how actions work â†’](/traffic-policy/concepts/actions)

## List of Available Actions

The following actions are available for use on your endpoints:

<ActionHub actions={frontMatter.actions} />
