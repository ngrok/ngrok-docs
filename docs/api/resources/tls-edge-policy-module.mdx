import TLSEdgePolicyModuleReplaceRequest from "./examples/_tls_edge_policy_module_replace_request.md";
import TLSEdgePolicyModuleReplaceResponse from "./examples/_tls_edge_policy_module_replace_response.md";
import TLSEdgePolicyModuleGetRequest from "./examples/_tls_edge_policy_module_get_request.md";
import TLSEdgePolicyModuleGetResponse from "./examples/_tls_edge_policy_module_get_response.md";
import TLSEdgePolicyModuleDeleteRequest from "./examples/_tls_edge_policy_module_delete_request.md";
import TLSEdgePolicyModuleDeleteResponse from "./examples/_tls_edge_policy_module_delete_response.md";

# TLS Edge Policy Module

:::warning

You are currently interacting with an API endpoint that is marked as UNSTABLE.

:::

## Replace TLS Edge Policy Module

### Request

PUT /edges/tls/\{id\}/policy

<TLSEdgePolicyModuleReplaceRequest />

#### Parameters

| Name       | Type                                     | Description                                                                                        |
| ---------- | ---------------------------------------- | -------------------------------------------------------------------------------------------------- |
| `enabled`  | boolean                                  | `true` if the module will be applied to traffic, `false` to disable. default `true` if unspecified |
| `inbound`  | [EndpointRule](#endpointrule-parameters) | the inbound rules of the traffic policy.                                                           |
| `outbound` | [EndpointRule](#endpointrule-parameters) | the outbound rules on the traffic policy.                                                          |

#### EndpointRule parameters

| Name          | Type                                         | Description                                                     |
| ------------- | -------------------------------------------- | --------------------------------------------------------------- |
| `expressions` | List&lt;string&gt;                           | cel expressions that filter traffic the policy rule applies to. |
| `actions`     | [EndpointAction](#endpointaction-parameters) | the set of actions on a policy rule.                            |
| `name`        | string                                       | the name of the rule that is part of the traffic policy.        |

#### EndpointAction parameters

| Name     | Type   | Description                                          |
| -------- | ------ | ---------------------------------------------------- |
| `type`   | string | the type of action on the policy rule.               |
| `config` | object | the configuration for the action on the policy rule. |

### Response

Returns a 200 response on success

<TLSEdgePolicyModuleReplaceResponse />

#### Fields

| Name       | Type                                 | Description                                                                                        |
| ---------- | ------------------------------------ | -------------------------------------------------------------------------------------------------- |
| `enabled`  | boolean                              | `true` if the module will be applied to traffic, `false` to disable. default `true` if unspecified |
| `inbound`  | [EndpointRule](#endpointrule-fields) | the inbound rules of the traffic policy.                                                           |
| `outbound` | [EndpointRule](#endpointrule-fields) | the outbound rules on the traffic policy.                                                          |

#### EndpointRule fields

| Name          | Type                                     | Description                                                     |
| ------------- | ---------------------------------------- | --------------------------------------------------------------- |
| `expressions` | List&lt;string&gt;                       | cel expressions that filter traffic the policy rule applies to. |
| `actions`     | [EndpointAction](#endpointaction-fields) | the set of actions on a policy rule.                            |
| `name`        | string                                   | the name of the rule that is part of the traffic policy.        |

#### EndpointAction fields

| Name     | Type   | Description                                          |
| -------- | ------ | ---------------------------------------------------- |
| `type`   | string | the type of action on the policy rule.               |
| `config` | object | the configuration for the action on the policy rule. |

## Get TLS Edge Policy Module

### Request

GET /edges/tls/\{id\}/policy

<TLSEdgePolicyModuleGetRequest />

### Response

Returns a 200 response on success

<TLSEdgePolicyModuleGetResponse />

#### Fields

| Name       | Type                                 | Description                                                                                        |
| ---------- | ------------------------------------ | -------------------------------------------------------------------------------------------------- |
| `enabled`  | boolean                              | `true` if the module will be applied to traffic, `false` to disable. default `true` if unspecified |
| `inbound`  | [EndpointRule](#endpointrule-fields) | the inbound rules of the traffic policy.                                                           |
| `outbound` | [EndpointRule](#endpointrule-fields) | the outbound rules on the traffic policy.                                                          |

#### EndpointRule fields

| Name          | Type                                     | Description                                                     |
| ------------- | ---------------------------------------- | --------------------------------------------------------------- |
| `expressions` | List&lt;string&gt;                       | cel expressions that filter traffic the policy rule applies to. |
| `actions`     | [EndpointAction](#endpointaction-fields) | the set of actions on a policy rule.                            |
| `name`        | string                                   | the name of the rule that is part of the traffic policy.        |

#### EndpointAction fields

| Name     | Type   | Description                                          |
| -------- | ------ | ---------------------------------------------------- |
| `type`   | string | the type of action on the policy rule.               |
| `config` | object | the configuration for the action on the policy rule. |

## Delete TLS Edge Policy Module

### Request

DELETE /edges/tls/\{id\}/policy

<TLSEdgePolicyModuleDeleteRequest />

### Response

Returns a 204 response with no body on success
