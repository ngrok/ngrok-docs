import EdgeRoutePolicyModuleReplaceRequest from "./examples/_edge_route_policy_module_replace_request.md";
import EdgeRoutePolicyModuleReplaceResponse from "./examples/_edge_route_policy_module_replace_response.md";
import EdgeRoutePolicyModuleGetRequest from "./examples/_edge_route_policy_module_get_request.md";
import EdgeRoutePolicyModuleGetResponse from "./examples/_edge_route_policy_module_get_response.md";
import EdgeRoutePolicyModuleDeleteRequest from "./examples/_edge_route_policy_module_delete_request.md";
import EdgeRoutePolicyModuleDeleteResponse from "./examples/_edge_route_policy_module_delete_response.md";

# Edge Route Policy Module

:::warning

You are currently interacting with an API endpoint that is marked as UNSTABLE.

:::

## Replace HTTPS Edge Route Policies Module

### Request

PUT /edges/https/\{edge_id\}/routes/\{id\}/policy

<EdgeRoutePolicyModuleReplaceRequest />

#### Parameters

| Name       | Type                                     | Description                                                                                        |
| ---------- | ---------------------------------------- | -------------------------------------------------------------------------------------------------- |
| `enabled`  | boolean                                  | `true` if the module will be applied to traffic, `false` to disable. default `true` if unspecified |
| `inbound`  | [EndpointRule](#endpointrule-parameters) | the inbound rules of the traffic policy.                                                           |
| `outbound` | [EndpointRule](#endpointrule-parameters) | the outbound rules on the traffic policy.                                                          |

#### EndpointRule parameters

| Name          | Type                                         | Description                                                     |
| ------------- | -------------------------------------------- | --------------------------------------------------------------- |
| `expressions` | List&lt;string&gt;                           | cel expressions that filter traffic the policy rule applies to. |
| `actions`     | [EndpointAction](#endpointaction-parameters) | the set of actions on a policy rule.                            |
| `name`        | string                                       | the name of the rule that is part of the traffic policy.        |

#### EndpointAction parameters

| Name     | Type   | Description                                          |
| -------- | ------ | ---------------------------------------------------- |
| `type`   | string | the type of action on the policy rule.               |
| `config` | object | the configuration for the action on the policy rule. |

### Response

Returns a 200 response on success

<EdgeRoutePolicyModuleReplaceResponse />

#### Fields

| Name       | Type                                 | Description                                                                                        |
| ---------- | ------------------------------------ | -------------------------------------------------------------------------------------------------- |
| `enabled`  | boolean                              | `true` if the module will be applied to traffic, `false` to disable. default `true` if unspecified |
| `inbound`  | [EndpointRule](#endpointrule-fields) | the inbound rules of the traffic policy.                                                           |
| `outbound` | [EndpointRule](#endpointrule-fields) | the outbound rules on the traffic policy.                                                          |

#### EndpointRule fields

| Name          | Type                                     | Description                                                     |
| ------------- | ---------------------------------------- | --------------------------------------------------------------- |
| `expressions` | List&lt;string&gt;                       | cel expressions that filter traffic the policy rule applies to. |
| `actions`     | [EndpointAction](#endpointaction-fields) | the set of actions on a policy rule.                            |
| `name`        | string                                   | the name of the rule that is part of the traffic policy.        |

#### EndpointAction fields

| Name     | Type   | Description                                          |
| -------- | ------ | ---------------------------------------------------- |
| `type`   | string | the type of action on the policy rule.               |
| `config` | object | the configuration for the action on the policy rule. |

## Get HTTPS Edge Route Policies Module

### Request

GET /edges/https/\{edge_id\}/routes/\{id\}/policy

<EdgeRoutePolicyModuleGetRequest />

### Response

Returns a 200 response on success

<EdgeRoutePolicyModuleGetResponse />

#### Fields

| Name       | Type                                 | Description                                                                                        |
| ---------- | ------------------------------------ | -------------------------------------------------------------------------------------------------- |
| `enabled`  | boolean                              | `true` if the module will be applied to traffic, `false` to disable. default `true` if unspecified |
| `inbound`  | [EndpointRule](#endpointrule-fields) | the inbound rules of the traffic policy.                                                           |
| `outbound` | [EndpointRule](#endpointrule-fields) | the outbound rules on the traffic policy.                                                          |

#### EndpointRule fields

| Name          | Type                                     | Description                                                     |
| ------------- | ---------------------------------------- | --------------------------------------------------------------- |
| `expressions` | List&lt;string&gt;                       | cel expressions that filter traffic the policy rule applies to. |
| `actions`     | [EndpointAction](#endpointaction-fields) | the set of actions on a policy rule.                            |
| `name`        | string                                   | the name of the rule that is part of the traffic policy.        |

#### EndpointAction fields

| Name     | Type   | Description                                          |
| -------- | ------ | ---------------------------------------------------- |
| `type`   | string | the type of action on the policy rule.               |
| `config` | object | the configuration for the action on the policy rule. |

## Delete HTTPS Edge Route Policies Module

### Request

DELETE /edges/https/\{edge_id\}/routes/\{id\}/policy

<EdgeRoutePolicyModuleDeleteRequest />

### Response

Returns a 204 response with no body on success
