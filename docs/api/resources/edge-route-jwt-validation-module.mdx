import EdgeRouteJWTValidationModuleReplaceRequest from "./examples/_edge_route_jwt_validation_module_replace_request.md";
import EdgeRouteJWTValidationModuleReplaceResponse from "./examples/_edge_route_jwt_validation_module_replace_response.md";
import EdgeRouteJWTValidationModuleGetRequest from "./examples/_edge_route_jwt_validation_module_get_request.md";
import EdgeRouteJWTValidationModuleGetResponse from "./examples/_edge_route_jwt_validation_module_get_response.md";
import EdgeRouteJWTValidationModuleDeleteRequest from "./examples/_edge_route_jwt_validation_module_delete_request.md";
import EdgeRouteJWTValidationModuleDeleteResponse from "./examples/_edge_route_jwt_validation_module_delete_response.md";

# Edge Route JWT Validation Module

## Replace HTTPS Edge Route JWT Validation Module

### Request

PUT /edges/https/\{edge_id\}/routes/\{id\}/jwt_validation

<EdgeRouteJWTValidationModuleReplaceRequest />

#### Parameters

| Name       | Type                                                                                   | Description                                                                                        |
| ---------- | -------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- |
| `enabled`  | boolean                                                                                | `true` if the module will be applied to traffic, `false` to disable. default `true` if unspecified |
| `issuer`   | [EndpointJWTValidationIssuerConfig](#endpointjwtvalidationissuerconfig-parameters)     | configuration about the Issuer(s) of the JWTs.                                                     |
| `audience` | [EndpointJWTValidationAudienceConfig](#endpointjwtvalidationaudienceconfig-parameters) | configuration about the Audience(s) of the JWTs.                                                   |
| `http`     | [EndpointJWTValidationHTTPConfig](#endpointjwtvalidationhttpconfig-parameters)         | configuration about the HTTP requests containing JWTs.                                             |
| `jws`      | [EndpointJWTValidationSigningConfig](#endpointjwtvalidationsigningconfig-parameters)   | configuration about signed JWTs (JWS).                                                             |

#### EndpointJWTValidationIssuerConfig parameters

| Name         | Type                                                                   | Description                  |
| ------------ | ---------------------------------------------------------------------- | ---------------------------- |
| `allow_list` | [EndpointJWTValidationIssuer](#endpointjwtvalidationissuer-parameters) | the list of allowed issuers. |

#### EndpointJWTValidationIssuer parameters

| Name    | Type   | Description            |
| ------- | ------ | ---------------------- |
| `value` | string | the URL of the issuer. |

#### EndpointJWTValidationAudienceConfig parameters

| Name         | Type                                                                       | Description                    |
| ------------ | -------------------------------------------------------------------------- | ------------------------------ |
| `allow_list` | [EndpointJWTValidationAudience](#endpointjwtvalidationaudience-parameters) | the list of allowed audiences. |

#### EndpointJWTValidationAudience parameters

| Name    | Type   | Description         |
| ------- | ------ | ------------------- |
| `value` | string | the audience value. |

#### EndpointJWTValidationHTTPConfig parameters

| Name     | Type                                                                         | Description                     |
| -------- | ---------------------------------------------------------------------------- | ------------------------------- |
| `tokens` | [EndpointJWTValidationHTTPToken](#endpointjwtvalidationhttptoken-parameters) | the list of tokens to validate. |

#### EndpointJWTValidationHTTPToken parameters

| Name     | Type   | Description                                                                                                         |
| -------- | ------ | ------------------------------------------------------------------------------------------------------------------- |
| `type`   | string | the type of the JWT, which acts as a hint to ngrok about how to parse. Must be one of "jwt", "at+jwt", or "it+jwt". |
| `method` | string | the type of location to expect the JWT. Must be one of "header" or "body".                                          |
| `name`   | string | the name of the header or body field where the JWT is expected.                                                     |
| `prefix` | string | any prefix to strip from the JWT before parsing.                                                                    |

#### EndpointJWTValidationSigningConfig parameters

| Name                 | Type                                                                             | Description                                 |
| -------------------- | -------------------------------------------------------------------------------- | ------------------------------------------- |
| `allowed_algorithms` | List&lt;string&gt;                                                               | the list of allowed signing algorithms.     |
| `keys`               | [EndpointJWTValidationSigningKeys](#endpointjwtvalidationsigningkeys-parameters) | the configuration for the JWT signing keys. |

#### EndpointJWTValidationSigningKeys parameters

| Name      | Type                                                                                         | Description                                                                      |
| --------- | -------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------- |
| `sources` | [EndpointJWTValidationSigningKeySources](#endpointjwtvalidationsigningkeysources-parameters) | the configuration for acquiring the key material used to verify the signed JWTs. |

#### EndpointJWTValidationSigningKeySources parameters

| Name              | Type               | Description                                                            |
| ----------------- | ------------------ | ---------------------------------------------------------------------- |
| `additional_jkus` | List&lt;string&gt; | the list of URLs which serve the possible signing keys in JWKS format. |

### Response

Returns a 200 response on success

<EdgeRouteJWTValidationModuleReplaceResponse />

#### Fields

| Name       | Type                                                                               | Description                                                                                        |
| ---------- | ---------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- |
| `enabled`  | boolean                                                                            | `true` if the module will be applied to traffic, `false` to disable. default `true` if unspecified |
| `issuer`   | [EndpointJWTValidationIssuerConfig](#endpointjwtvalidationissuerconfig-fields)     | configuration about the Issuer(s) of the JWTs.                                                     |
| `audience` | [EndpointJWTValidationAudienceConfig](#endpointjwtvalidationaudienceconfig-fields) | configuration about the Audience(s) of the JWTs.                                                   |
| `http`     | [EndpointJWTValidationHTTPConfig](#endpointjwtvalidationhttpconfig-fields)         | configuration about the HTTP requests containing JWTs.                                             |
| `jws`      | [EndpointJWTValidationSigningConfig](#endpointjwtvalidationsigningconfig-fields)   | configuration about signed JWTs (JWS).                                                             |

#### EndpointJWTValidationIssuerConfig fields

| Name         | Type                                                               | Description                  |
| ------------ | ------------------------------------------------------------------ | ---------------------------- |
| `allow_list` | [EndpointJWTValidationIssuer](#endpointjwtvalidationissuer-fields) | the list of allowed issuers. |

#### EndpointJWTValidationIssuer fields

| Name    | Type   | Description            |
| ------- | ------ | ---------------------- |
| `value` | string | the URL of the issuer. |

#### EndpointJWTValidationAudienceConfig fields

| Name         | Type                                                                   | Description                    |
| ------------ | ---------------------------------------------------------------------- | ------------------------------ |
| `allow_list` | [EndpointJWTValidationAudience](#endpointjwtvalidationaudience-fields) | the list of allowed audiences. |

#### EndpointJWTValidationAudience fields

| Name    | Type   | Description         |
| ------- | ------ | ------------------- |
| `value` | string | the audience value. |

#### EndpointJWTValidationHTTPConfig fields

| Name     | Type                                                                     | Description                     |
| -------- | ------------------------------------------------------------------------ | ------------------------------- |
| `tokens` | [EndpointJWTValidationHTTPToken](#endpointjwtvalidationhttptoken-fields) | the list of tokens to validate. |

#### EndpointJWTValidationHTTPToken fields

| Name     | Type   | Description                                                                                                         |
| -------- | ------ | ------------------------------------------------------------------------------------------------------------------- |
| `type`   | string | the type of the JWT, which acts as a hint to ngrok about how to parse. Must be one of "jwt", "at+jwt", or "it+jwt". |
| `method` | string | the type of location to expect the JWT. Must be one of "header" or "body".                                          |
| `name`   | string | the name of the header or body field where the JWT is expected.                                                     |
| `prefix` | string | any prefix to strip from the JWT before parsing.                                                                    |

#### EndpointJWTValidationSigningConfig fields

| Name                 | Type                                                                         | Description                                 |
| -------------------- | ---------------------------------------------------------------------------- | ------------------------------------------- |
| `allowed_algorithms` | List&lt;string&gt;                                                           | the list of allowed signing algorithms.     |
| `keys`               | [EndpointJWTValidationSigningKeys](#endpointjwtvalidationsigningkeys-fields) | the configuration for the JWT signing keys. |

#### EndpointJWTValidationSigningKeys fields

| Name      | Type                                                                                     | Description                                                                      |
| --------- | ---------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------- |
| `sources` | [EndpointJWTValidationSigningKeySources](#endpointjwtvalidationsigningkeysources-fields) | the configuration for acquiring the key material used to verify the signed JWTs. |

#### EndpointJWTValidationSigningKeySources fields

| Name              | Type               | Description                                                            |
| ----------------- | ------------------ | ---------------------------------------------------------------------- |
| `additional_jkus` | List&lt;string&gt; | the list of URLs which serve the possible signing keys in JWKS format. |

## Get HTTPS Edge Route JWT Validation Module

### Request

GET /edges/https/\{edge_id\}/routes/\{id\}/jwt_validation

<EdgeRouteJWTValidationModuleGetRequest />

### Response

Returns a 200 response on success

<EdgeRouteJWTValidationModuleGetResponse />

#### Fields

| Name       | Type                                                                               | Description                                                                                        |
| ---------- | ---------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- |
| `enabled`  | boolean                                                                            | `true` if the module will be applied to traffic, `false` to disable. default `true` if unspecified |
| `issuer`   | [EndpointJWTValidationIssuerConfig](#endpointjwtvalidationissuerconfig-fields)     | configuration about the Issuer(s) of the JWTs.                                                     |
| `audience` | [EndpointJWTValidationAudienceConfig](#endpointjwtvalidationaudienceconfig-fields) | configuration about the Audience(s) of the JWTs.                                                   |
| `http`     | [EndpointJWTValidationHTTPConfig](#endpointjwtvalidationhttpconfig-fields)         | configuration about the HTTP requests containing JWTs.                                             |
| `jws`      | [EndpointJWTValidationSigningConfig](#endpointjwtvalidationsigningconfig-fields)   | configuration about signed JWTs (JWS).                                                             |

#### EndpointJWTValidationIssuerConfig fields

| Name         | Type                                                               | Description                  |
| ------------ | ------------------------------------------------------------------ | ---------------------------- |
| `allow_list` | [EndpointJWTValidationIssuer](#endpointjwtvalidationissuer-fields) | the list of allowed issuers. |

#### EndpointJWTValidationIssuer fields

| Name    | Type   | Description            |
| ------- | ------ | ---------------------- |
| `value` | string | the URL of the issuer. |

#### EndpointJWTValidationAudienceConfig fields

| Name         | Type                                                                   | Description                    |
| ------------ | ---------------------------------------------------------------------- | ------------------------------ |
| `allow_list` | [EndpointJWTValidationAudience](#endpointjwtvalidationaudience-fields) | the list of allowed audiences. |

#### EndpointJWTValidationAudience fields

| Name    | Type   | Description         |
| ------- | ------ | ------------------- |
| `value` | string | the audience value. |

#### EndpointJWTValidationHTTPConfig fields

| Name     | Type                                                                     | Description                     |
| -------- | ------------------------------------------------------------------------ | ------------------------------- |
| `tokens` | [EndpointJWTValidationHTTPToken](#endpointjwtvalidationhttptoken-fields) | the list of tokens to validate. |

#### EndpointJWTValidationHTTPToken fields

| Name     | Type   | Description                                                                                                         |
| -------- | ------ | ------------------------------------------------------------------------------------------------------------------- |
| `type`   | string | the type of the JWT, which acts as a hint to ngrok about how to parse. Must be one of "jwt", "at+jwt", or "it+jwt". |
| `method` | string | the type of location to expect the JWT. Must be one of "header" or "body".                                          |
| `name`   | string | the name of the header or body field where the JWT is expected.                                                     |
| `prefix` | string | any prefix to strip from the JWT before parsing.                                                                    |

#### EndpointJWTValidationSigningConfig fields

| Name                 | Type                                                                         | Description                                 |
| -------------------- | ---------------------------------------------------------------------------- | ------------------------------------------- |
| `allowed_algorithms` | List&lt;string&gt;                                                           | the list of allowed signing algorithms.     |
| `keys`               | [EndpointJWTValidationSigningKeys](#endpointjwtvalidationsigningkeys-fields) | the configuration for the JWT signing keys. |

#### EndpointJWTValidationSigningKeys fields

| Name      | Type                                                                                     | Description                                                                      |
| --------- | ---------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------- |
| `sources` | [EndpointJWTValidationSigningKeySources](#endpointjwtvalidationsigningkeysources-fields) | the configuration for acquiring the key material used to verify the signed JWTs. |

#### EndpointJWTValidationSigningKeySources fields

| Name              | Type               | Description                                                            |
| ----------------- | ------------------ | ---------------------------------------------------------------------- |
| `additional_jkus` | List&lt;string&gt; | the list of URLs which serve the possible signing keys in JWKS format. |

## Delete HTTPS Edge Route JWT Validation Module

### Request

DELETE /edges/https/\{edge_id\}/routes/\{id\}/jwt_validation

<EdgeRouteJWTValidationModuleDeleteRequest />

### Response

Returns a 204 response with no body on success
