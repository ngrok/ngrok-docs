import TCPEdgePolicyModuleReplaceRequest from "./examples/_tcp_edge_policy_module_replace_request.md";
import TCPEdgePolicyModuleReplaceResponse from "./examples/_tcp_edge_policy_module_replace_response.md";
import TCPEdgePolicyModuleGetRequest from "./examples/_tcp_edge_policy_module_get_request.md";
import TCPEdgePolicyModuleGetResponse from "./examples/_tcp_edge_policy_module_get_response.md";
import TCPEdgePolicyModuleDeleteRequest from "./examples/_tcp_edge_policy_module_delete_request.md";
import TCPEdgePolicyModuleDeleteResponse from "./examples/_tcp_edge_policy_module_delete_response.md";

# Tcp Edge Policy Module

:::warning

You are currently interacting with an API endpoint that is marked as UNSTABLE.

:::

## Replace TCP Edge Policy Module

### Request

PUT /edges/tcp/\{id\}/policy

<TCPEdgePolicyModuleReplaceRequest />

#### Parameters

| Name       | Type                                     | Description                                                                                        |
| ---------- | ---------------------------------------- | -------------------------------------------------------------------------------------------------- |
| `enabled`  | boolean                                  | `true` if the module will be applied to traffic, `false` to disable. default `true` if unspecified |
| `inbound`  | [EndpointRule](#endpointrule-parameters) | the inbound rules of the traffic policy.                                                           |
| `outbound` | [EndpointRule](#endpointrule-parameters) | the outbound rules on the traffic policy.                                                          |

#### EndpointRule parameters

| Name          | Type                                         | Description                                                     |
| ------------- | -------------------------------------------- | --------------------------------------------------------------- |
| `expressions` | List&lt;string&gt;                           | cel expressions that filter traffic the policy rule applies to. |
| `actions`     | [EndpointAction](#endpointaction-parameters) | the set of actions on a policy rule.                            |
| `name`        | string                                       | the name of the rule that is part of the traffic policy.        |

#### EndpointAction parameters

| Name     | Type   | Description                                          |
| -------- | ------ | ---------------------------------------------------- |
| `type`   | string | the type of action on the policy rule.               |
| `config` | object | the configuration for the action on the policy rule. |

### Response

Returns a 200 response on success

<TCPEdgePolicyModuleReplaceResponse />

#### Fields

| Name       | Type                                 | Description                                                                                        |
| ---------- | ------------------------------------ | -------------------------------------------------------------------------------------------------- |
| `enabled`  | boolean                              | `true` if the module will be applied to traffic, `false` to disable. default `true` if unspecified |
| `inbound`  | [EndpointRule](#endpointrule-fields) | the inbound rules of the traffic policy.                                                           |
| `outbound` | [EndpointRule](#endpointrule-fields) | the outbound rules on the traffic policy.                                                          |

#### EndpointRule fields

| Name          | Type                                     | Description                                                     |
| ------------- | ---------------------------------------- | --------------------------------------------------------------- |
| `expressions` | List&lt;string&gt;                       | cel expressions that filter traffic the policy rule applies to. |
| `actions`     | [EndpointAction](#endpointaction-fields) | the set of actions on a policy rule.                            |
| `name`        | string                                   | the name of the rule that is part of the traffic policy.        |

#### EndpointAction fields

| Name     | Type   | Description                                          |
| -------- | ------ | ---------------------------------------------------- |
| `type`   | string | the type of action on the policy rule.               |
| `config` | object | the configuration for the action on the policy rule. |

## Get TCP Edge Policy Module

### Request

GET /edges/tcp/\{id\}/policy

<TCPEdgePolicyModuleGetRequest />

### Response

Returns a 200 response on success

<TCPEdgePolicyModuleGetResponse />

#### Fields

| Name       | Type                                 | Description                                                                                        |
| ---------- | ------------------------------------ | -------------------------------------------------------------------------------------------------- |
| `enabled`  | boolean                              | `true` if the module will be applied to traffic, `false` to disable. default `true` if unspecified |
| `inbound`  | [EndpointRule](#endpointrule-fields) | the inbound rules of the traffic policy.                                                           |
| `outbound` | [EndpointRule](#endpointrule-fields) | the outbound rules on the traffic policy.                                                          |

#### EndpointRule fields

| Name          | Type                                     | Description                                                     |
| ------------- | ---------------------------------------- | --------------------------------------------------------------- |
| `expressions` | List&lt;string&gt;                       | cel expressions that filter traffic the policy rule applies to. |
| `actions`     | [EndpointAction](#endpointaction-fields) | the set of actions on a policy rule.                            |
| `name`        | string                                   | the name of the rule that is part of the traffic policy.        |

#### EndpointAction fields

| Name     | Type   | Description                                          |
| -------- | ------ | ---------------------------------------------------- |
| `type`   | string | the type of action on the policy rule.               |
| `config` | object | the configuration for the action on the policy rule. |

## Delete TCP Edge Policy Module

### Request

DELETE /edges/tcp/\{id\}/policy

<TCPEdgePolicyModuleDeleteRequest />

### Response

Returns a 204 response with no body on success
