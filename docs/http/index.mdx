---
sidebar_position: 0
title: Overview
pagination_next: http/basic-auth
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

import RandomAgentCliExample from "/examples/agent-cli/http-random.mdx";
import RandomAgentConfigExample from "/examples/agent-config/http-random.mdx";
import RandomSshExample from "/examples/ssh/http-random.mdx";
import RandomGoSdkExample from "/examples/go-sdk/http-random.mdx";
import RandomJavascriptSdkExample from "/examples/javascript-sdk/http-random.mdx";
import RandomPythonSdkExample from "/examples/python-sdk/http-random.mdx";
import RandomRustSdkExample from "/examples/rust-sdk/http-random.mdx";

import StaticDomainKubernetesExample from "/examples/k8s/http-static-domain.mdx";
import StaticDomainAgentCliExample from "/examples/agent-cli/http-static-domain.mdx";
import StaticDomainAgentConfigExample from "/examples/agent-config/http-static-domain.mdx";
import StaticDomainSshExample from "/examples/ssh/http-static-domain.mdx";
import StaticDomainGoSdkExample from "/examples/go-sdk/http-static-domain.mdx";
import StaticDomainJavascriptSdkExample from "/examples/javascript-sdk/http-static-domain.mdx";
import StaticDomainPythonSdkExample from "/examples/python-sdk/http-static-domain.mdx";
import StaticDomainRustSdkExample from "/examples/rust-sdk/http-static-domain.mdx";

import BrandedDomainKubernetesExample from "/examples/k8s/http-branded-domain.mdx";
import BrandedDomainAgentCliExample from "/examples/agent-cli/http-branded-domain.mdx";
import BrandedDomainAgentConfigExample from "/examples/agent-config/http-branded-domain.mdx";
import BrandedDomainSshExample from "/examples/ssh/http-branded-domain.mdx";
import BrandedDomainGoSdkExample from "/examples/go-sdk/http-branded-domain.mdx";
import BrandedDomainJavascriptSdkExample from "/examples/javascript-sdk/http-branded-domain.mdx";
import BrandedDomainPythonSdkExample from "/examples/python-sdk/http-branded-domain.mdx";
import BrandedDomainRustSdkExample from "/examples/rust-sdk/http-branded-domain.mdx";

import BasicAuthKubernetesExample from "/examples/k8s/http-basic-auth.mdx";
import BasicAuthAgentCliExample from "/examples/agent-cli/http-basic-auth.mdx";
import BasicAuthAgentConfigExample from "/examples/agent-config/http-basic-auth.mdx";
import BasicAuthSshExample from "/examples/ssh/http-basic-auth.mdx";
import BasicAuthGoSdkExample from "/examples/go-sdk/http-basic-auth.mdx";
import BasicAuthJavascriptSdkExample from "/examples/javascript-sdk/http-basic-auth.mdx";
import BasicAuthPythonSdkExample from "/examples/python-sdk/http-basic-auth.mdx";
import BasicAuthRustSdkExample from "/examples/rust-sdk/http-basic-auth.mdx";

import OAuthKubernetesExample from "/examples/k8s/http-oauth-authn.mdx";
import OAuthAgentCliExample from "/examples/agent-cli/http-oauth-authn.mdx";
import OAuthAgentConfigExample from "/examples/agent-config/http-oauth-authn.mdx";
import OAuthSshExample from "/examples/ssh/http-oauth-authn.mdx";
import OAuthGoSdkExample from "/examples/go-sdk/http-oauth-authn.mdx";
import OAuthJavascriptSdkExample from "/examples/javascript-sdk/http-oauth-authn.mdx";
import OAuthPythonSdkExample from "/examples/python-sdk/http-oauth-authn.mdx";
import OAuthRustSdkExample from "/examples/rust-sdk/http-oauth-authn.mdx";

import ForwardHttpsKubernetesExample from "/examples/k8s/http-forward-https.mdx";
import ForwardHttpsAgentCliExample from "/examples/agent-cli/http-forward-https.mdx";
import ForwardHttpsAgentConfigExample from "/examples/agent-config/http-forward-https.mdx";
import ForwardHttpsSshExample from "/examples/ssh/http-forward-https.mdx";
import ForwardHttpsGoSdkExample from "/examples/go-sdk/http-forward-https.mdx";
import ForwardHttpsJavascriptSdkExample from "/examples/javascript-sdk/http-forward-https.mdx";
import ForwardHttpsPythonSdkExample from "/examples/python-sdk/http-forward-https.mdx";
import ForwardHttpsRustSdkExample from "/examples/rust-sdk/http-forward-https.mdx";

import HostHeaderKubernetesExample from "/examples/k8s/http-rewrite-host-header.mdx";
import HostHeaderAgentCliExample from "/examples/agent-cli/http-rewrite-host-header.mdx";
import HostHeaderAgentConfigExample from "/examples/agent-config/http-rewrite-host-header.mdx";
import HostHeaderSshExample from "/examples/ssh/http-rewrite-host-header.mdx";
import HostHeaderGoSdkExample from "/examples/go-sdk/http-rewrite-host-header.mdx";
import HostHeaderJavascriptSdkExample from "/examples/javascript-sdk/http-rewrite-host-header.mdx";
import HostHeaderPythonSdkExample from "/examples/python-sdk/http-rewrite-host-header.mdx";
import HostHeaderRustSdkExample from "/examples/rust-sdk/http-rewrite-host-header.mdx";

import WildcardKubernetesExample from "/examples/k8s/http-wildcard-domain.mdx";
import WildcardAgentCliExample from "/examples/agent-cli/http-wildcard-domain.mdx";
import WildcardAgentConfigExample from "/examples/agent-config/http-wildcard-domain.mdx";
import WildcardSshExample from "/examples/ssh/http-wildcard-domain.mdx";
import WildcardGoSdkExample from "/examples/go-sdk/http-wildcard-domain.mdx";
import WildcardJavascriptSdkExample from "/examples/javascript-sdk/http-wildcard-domain.mdx";
import WildcardPythonSdkExample from "/examples/python-sdk/http-wildcard-domain.mdx";
import WildcardRustSdkExample from "/examples/rust-sdk/http-wildcard-domain.mdx";

import NonLocalKubernetesExample from "/examples/k8s/http-nonlocal.mdx";
import NonLocalAgentCliExample from "/examples/agent-cli/http-nonlocal.mdx";
import NonLocalAgentConfigExample from "/examples/agent-config/http-nonlocal.mdx";
import NonLocalSshExample from "/examples/ssh/http-nonlocal.mdx";
import NonLocalGoSdkExample from "/examples/go-sdk/http-nonlocal.mdx";
import NonLocalJavascriptSdkExample from "/examples/javascript-sdk/http-nonlocal.mdx";
import NonLocalPythonSdkExample from "/examples/python-sdk/http-nonlocal.mdx";
import NonLocalRustSdkExample from "/examples/rust-sdk/http-nonlocal.mdx";

import AbsPathFileserverKubernetesExample from "/examples/k8s/http-fileserver-abs-path.mdx";
import AbsPathFileserverAgentCliExample from "/examples/agent-cli/http-fileserver-abs-path.mdx";
import AbsPathFileserverAgentConfigExample from "/examples/agent-config/http-fileserver-abs-path.mdx";
import AbsPathFileserverSshExample from "/examples/ssh/http-fileserver-abs-path.mdx";
import AbsPathFileserverGoSdkExample from "/examples/go-sdk/http-fileserver-abs-path.mdx";
import AbsPathFileserverJavascriptSdkExample from "/examples/javascript-sdk/http-fileserver-abs-path.mdx";
import AbsPathFileserverPythonSdkExample from "/examples/python-sdk/http-fileserver-abs-path.mdx";
import AbsPathFileserverRustSdkExample from "/examples/rust-sdk/http-fileserver-abs-path.mdx";

import WorkingDirFileserverKubernetesExample from "/examples/k8s/http-fileserver-working-dir.mdx";
import WorkingDirFileserverAgentCliExample from "/examples/agent-cli/http-fileserver-working-dir.mdx";
import WorkingDirFileserverAgentConfigExample from "/examples/agent-config/http-fileserver-working-dir.mdx";
import WorkingDirFileserverSshExample from "/examples/ssh/http-fileserver-working-dir.mdx";
import WorkingDirFileserverGoSdkExample from "/examples/go-sdk/http-fileserver-working-dir.mdx";
import WorkingDirFileserverJavascriptSdkExample from "/examples/javascript-sdk/http-fileserver-working-dir.mdx";
import WorkingDirFileserverPythonSdkExample from "/examples/python-sdk/http-fileserver-working-dir.mdx";
import WorkingDirFileserverRustSdkExample from "/examples/rust-sdk/http-fileserver-working-dir.mdx";

import WindowsFileserverKubernetesExample from "/examples/k8s/http-fileserver-windows.mdx";
import WindowsFileserverAgentCliExample from "/examples/agent-cli/http-fileserver-windows.mdx";
import WindowsFileserverAgentConfigExample from "/examples/agent-config/http-fileserver-windows.mdx";
import WindowsFileserverSshExample from "/examples/ssh/http-fileserver-windows.mdx";
import WindowsFileserverGoSdkExample from "/examples/go-sdk/http-fileserver-windows.mdx";
import WindowsFileserverJavascriptSdkExample from "/examples/javascript-sdk/http-fileserver-windows.mdx";
import WindowsFileserverPythonSdkExample from "/examples/python-sdk/http-fileserver-windows.mdx";
import WindowsFileserverRustSdkExample from "/examples/rust-sdk/http-fileserver-windows.mdx";

import SchemesKubernetesExample from "/examples/k8s/http-schemes.mdx";
import SchemesAgentCliExample from "/examples/agent-cli/http-schemes.mdx";
import SchemesAgentConfigExample from "/examples/agent-config/http-schemes.mdx";
import SchemesSshExample from "/examples/ssh/http-schemes.mdx";
import SchemesGoSdkExample from "/examples/go-sdk/http-schemes.mdx";
import SchemesJavascriptSdkExample from "/examples/javascript-sdk/http-schemes.mdx";
import SchemesPythonSdkExample from "/examples/python-sdk/http-schemes.mdx";
import SchemesRustSdkExample from "/examples/rust-sdk/http-schemes.mdx";

# HTTP Endpoints

## Overview

ngrok's HTTP endpoints enable you to serve APIs, web services, websocket servers,
websites and more.

Serving a web application is as simple as `ngrok http 80`. You can also layer
on additional capabilities like auth, observability, load balancing and more.

## Example Usage

### Basic usage

Create an HTTPS endpoint on a randomly assigned ngrok domain.

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<RandomAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<RandomAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<RandomSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<RandomGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<RandomJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<RandomPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<RandomRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<StaticDomainKubernetesExample />
	</TabItem>
</Tabs>

<br />

### Static domain

Create an HTTPS endpoint on `example.ngrok.app`

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<StaticDomainAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<StaticDomainAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<StaticDomainSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<StaticDomainGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<StaticDomainJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<StaticDomainPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<StaticDomainRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<StaticDomainKubernetesExample />
	</TabItem>
</Tabs>

<br />

### Bring your own domain {#bring-your-own-domain}

Create an HTTPS endpoint on `app.example.com`.

You will need to create a CNAME DNS record to bring your own domain. [Create a
Domain record](https://dashboard.ngrok.com/cloud-edge/domains) on your ngrok
dashboard and follow the instructions.

Consult the documentation about [setting up branded
domains](/network-edge/domains-and-tcp-addresses/#branded-domains) for additional details.

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<BrandedDomainAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<BrandedDomainAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<BrandedDomainSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<BrandedDomainGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<BrandedDomainJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<BrandedDomainPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<BrandedDomainRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<BrandedDomainKubernetesExample />
	</TabItem>
</Tabs>

<br />

### Basic auth

Adds a username and password with the [Basic Auth Module](/http/basic-auth).

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<BasicAuthAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<BasicAuthAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<BasicAuthSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<BasicAuthGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<BasicAuthJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<BasicAuthPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<BasicAuthRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<BasicAuthKubernetesExample />
	</TabItem>
</Tabs>

<br />

### Auth with Google

Enforce a browser-based OAuth flow in front of your HTTP endpoints to an
identity provider like Google with the [OAuth Module](/http/oauth/).

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<OAuthAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<OAuthAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<OAuthSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<OAuthGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<OAuthJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<OAuthPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<OAuthRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<OAuthKubernetesExample />
	</TabItem>
</Tabs>

<br />

### Forward to HTTPS

Use a URL with an https:// scheme to make ngrok [speak HTTPS to your upstream
service](#upstream-https-servers).

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<ForwardHttpsAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<ForwardHttpsAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<ForwardHttpsSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<ForwardHttpsGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<ForwardHttpsJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<ForwardHttpsPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<ForwardHttpsRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<ForwardHttpsKubernetesExample />
	</TabItem>
</Tabs>

<br />

### Rewrite Host header

[Rewrite the `Host` header](#rewrite-host-header) to the value `localhost` using the [Request Headers
module](/http/request-headers/). Adding the `Host` header [is a special
case](/http/request-headers/#special-cases) that replaces the existing `Host`
header instead of appending a second value.

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<HostHeaderAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<HostHeaderAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<HostHeaderSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<HostHeaderGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<HostHeaderJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<HostHeaderPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<HostHeaderRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<HostHeaderKubernetesExample />
	</TabItem>
</Tabs>

<br />

### Forward to non-local

Forward traffic to a HTTP server running on your network at `192.168.1.2:80`.

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<NonLocalAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<NonLocalAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<NonLocalSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<NonLocalGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<NonLocalJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<NonLocalPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<NonLocalRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<NonLocalKubernetesExample />
	</TabItem>
</Tabs>

<br />

### Wildcard domain

Create an endpoint on the wildcard domain, `*.example.com`. It will receive
traffic for `foo.example.com` and `bar.example.com`. [Read more about using
wildcard domains](/network-edge/domains-and-tcp-addresses/#wildcard-domains).

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<WildcardAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<WildcardAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<WildcardSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<WildcardGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<WildcardJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<WildcardPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<WildcardRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<WildcardKubernetesExample />
	</TabItem>
</Tabs>

<br />

### Serve directory files

[Serve the files in a directory](#file-serving) on an ngrok endpoint. It works
just like `python3 -m http.server` but built directly into the ngrok agent.

#### Serve files in `/var/log`

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<AbsPathFileserverAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<AbsPathFileserverAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<AbsPathFileserverSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<AbsPathFileserverGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<AbsPathFileserverJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<AbsPathFileserverPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<AbsPathFileserverRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<AbsPathFileserverKubernetesExample />
	</TabItem>
</Tabs>

<br />

#### Serve files on Windows

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<WindowsFileserverAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<WindowsFileserverAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<WindowsFileserverSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<WindowsFileserverGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<WindowsFileserverJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<WindowsFileserverPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<WindowsFileserverRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<WindowsFileserverKubernetesExample />
	</TabItem>
</Tabs>

<br />

#### Serve files in your current working directory

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<WorkingDirFileserverAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<WorkingDirFileserverAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<WorkingDirFileserverSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<WorkingDirFileserverGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<WorkingDirFileserverJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<WorkingDirFileserverPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<WorkingDirFileserverRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<WorkingDirFileserverKubernetesExample />
	</TabItem>
</Tabs>

<br />

### Serve HTTP and HTTPS

By default, [ngrok creates an HTTPS endpoint but not an HTTP
one](#http-vs-https). You can configure this behavior to create an HTTP
endpoint as well.

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<SchemesAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<SchemesAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<SchemesSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<SchemesGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<SchemesJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<SchemesPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<SchemesRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<SchemesKubernetesExample />
	</TabItem>
</Tabs>

## Behavior

ngrok is a compliant HTTP reverse proxy.

### Upstream Headers {#upstream-headers}

ngrok adds headers to each HTTP request with information about the client IP
and original protocol. These headers can be removed with the
[Request Headers module](/http/request-headers#automatic-headers).

| Header            | Description                                                                                   |
| ----------------- | --------------------------------------------------------------------------------------------- |
| X-Forwarded-For   | The IP address of the client who initiated the request to your endpoint.                      |
| X-Forwarded-Host  | The header from the client's request if it existed, otherwise is set to the request's `Host`. |
| X-Forwarded-Proto | Either `http` or `https`, indicating the protocol the request used to access your endpoint.   |

:::note
Since ngrok is proxying requests, the `X-Forwarded-For` and `X-Forwarded-Proto` headers
will be appended to if they already exist in the client's request. To utilize the
values that ngrok is adding, make sure the last value for the header is being used,
using whatever mechanism your server framework provides.
:::

### Auth

Anyone can access your ngrok endpoints unless you secure them with
authentication. ngrok supports many different forms of authentication. The
easiest to get started with are Basic Auth and OAuth. Basic Auth lets you set a
username and password for your endpoint. With OAuth, you can restrict access to
a specific email address with a Google, Microsoft or GitHub account.

#### Examples

- [Basic Auth](/http/basic-auth#example-usage)
- [OAuth](/http/oauth/#restrict-by-email-and-domain)

There are many other forms of auth for more advanced use cases as well:

- [IP Restrictions](/http/ip-restrictions/#example-usage)
- [Webhook Verification](/http/webhook-verification/#example-usage)
- [Mutual TLS](/http/mutual-tls/#example-usage)
- [OpenID Connect](/http/openid-connect/)
- [SAML](/http/saml/)

### Domains

[The Domains documentation](/network-edge/domains-and-tcp-addresses/#domains)
contains details about how ngrok chooses domains, what managed based domains
ngrok operates, how to set up branded domains, how wildcard domains work and
more.

#### Static Domains

ngrok will randomly assign a domain when you create HTTP endpoints unless you
specify one. This is okay for one-off uses, but usually you'll want to use a
static domain that doesn't change.

You can ask ngrok to always use the same name with the `--domain` option in the
agent or an equivalent option with other connectivity choices.

**Example**: [Static Domains](#static-domain)

#### Bring your own Domain

If you want to bring your own domain, you can do that as well, but you'll need
to [create a Domain record and set up a DNS CNAME
record](/docs/network-edge/domains-and-tcp-addresses/#branded-domains). Once
you've set one up, you can use the following example.

**Example**: [Bring your own Domain](#bring-your-own-domain)

### Wildcard Domains

You can ask ngrok to create an endpoint which will receive traffic for all of
the subdomains matching a given wildcard domain like `*.example.com`. Read the
[wildcard domains documentation](#wildcard-domain) to understand the matching
rules.

**Example**: [Wildcard Domain](#wildcard-domain)

### Forwarding

The ngrok agent forwards traffic that your endpoints receive to your upstream
services. You specify a URL or port number to instruct the ngrok agent how and
where to forward traffic.

#### Upstream HTTPS servers

By default, ngrok assumes that the upstream service it is forwarding to is
listening for unencrypted HTTP traffic. You can specify a URL with an
`https://` scheme to make ngrok speak HTTPS to your upstream service.

As a special case, ngrok assumes that if you forward to port 443 on any host
that it should send HTTPS traffic and will act as if you specified an
`https://` URL.

ngrok assumes that the network you run the agent on is private and it does not
verify the TLS certificate presented by the upstream service.

**Example:** [Forward to HTTPS](#forward-to-https)

#### Rewriting the Host header {#rewrite-host-header}

Some application servers expect the `Host` header to match a specific value
when they receive requests and others use the `Host` header to determine which
of many sites to display. ngrok can rewrite the `Host` header of incoming
requests so that your upstream service behaves correctly.

When you rewrite the Host header, ngrok also rewrites the `Location` header of
HTTP responses automatically to match the hostname of your Endpoint URL.

**Example:** [Rewrite Host header](#rewrite-host-header)

The ngrok agent has a shortcut which rewrites the `Host` header to match the
hostname portion of the forwarding address. The following command will rewrite
the host header to `foo.local`.

```
ngrok http foo.local:80 --host-header=rewrite
```

It is equivalent to:

```
ngrok http foo.local:80 --request-header-add='foo.local'
```

#### File Serving

The ngrok agent supports the `file://` scheme in a forwarding URL. When you
used the `file://` scheme, the ngrok agent serves local file system directories
by using its own built-in file server, no separate server needed.

All paths must be specified as absolute paths, the `file://` URL scheme does
not understand relative paths.

**Example:** [Serving directory files](#serve-directory-files)

### Certificates

ngrok automatically manages all of your TLS certificates. There is nothing to
setup, configure or manage.

Regardless of whether your domain is a subdomain of ngrok's managed base
domains (like `ngrok.app`) or you brought your own domain, ngrok will
automatically provision and renew TLS certificates for you. You can optionally
bring your own certificates if you'd like though.

Read the [TLS Certificates documentation](/network-edge/tls-certificates/) for
additional details of how ngrok automatically provisions certificates for your
domains as well as how you can bring your own certificates.

### Routes

When you use [Edges](#edges) to manage your endpoints, you can apply different
modules on a per-path basis. For example, you could apply auth to `/dashboard`
and compression to `/static`.

We call this primitive a Route. Each Route is defined using a path selector,
which will match a path on the request to that endpoint. This can be useful for
adding OAuth to specific areas of your website, or stitching multiple services
together into a single website. Routes can share the same backend, or you can
use a different backend for each route.

### HTTP vs HTTPS

By default, ngrok only creates HTTPS endpoints for your services. You can
configure ngrok to create both HTTP and HTTPS endpoints or even just HTTP only.
If you are using [Edges](/http/#edges), only HTTPS endpoints are supported.

**Example:** [Serve HTTP and HTTPS](/http/#serve-http-and-https)

### Websockets

Websocket connections are supported. No changes or configuration is required.

### Hop by hop Headers

ngrok does not forward any [hop-by-hop
headers](https://datatracker.ietf.org/doc/html/rfc2616#section-13.5.1) to the
upstream service.

As an exception to this rule, `Connection: upgrade` requests are forwarded to
support [websockets](#websockets).

For information on headers added automatically by ngrok, see
[Upstream Headers](/http/#upstream-headers).

### HTTP/1.1 Keep-Alive

When a request is transmitted over HTTP/1.1, the ngrok edge may choose to use
keep-alive connections to improve the performance of future requests. This
behavior is not configurable.

### HTTP/2

#### Client to ngrok edge

ngrok's HTTP endpoints will automatically use HTTP/2 for all connections if the client
supports it. HTTP/2 is used even if your upstream service does not support
HTTP/2.

#### ngrok edge to upstream service

Requests to upstream services can be configured to continue using HTTP/2 with
either the [agent CLI flags](/agent/cli/#ngrok-http) or the [agent SDKs](/agent-sdks).

All requests to your upstream service will be transmitted over HTTP/2
Cleartext since TLS was already terminated at the ngrok edge. We cannot use
[TLS-ALPN](https://httpwg.org/specs/rfc7540.html#TLS-ALPN) at this time. We rely
on [HTTP/2 with Prior Knowledge](https://httpwg.org/specs/rfc7540.html#known-http)
currently.

### HTTP/3

HTTP/3 is not yet supported.

## Reference

### Edges

[Edges](/network-edge/edges) enable you to centrally manage your endpoints'
Module configurations in the ngrok dashboard or API instead of defining them
via an Agent or Agent SDK.

- An HTTPS Edge is attached to one or more Domains. For each Domain, it creates
  an HTTPS Endpoint that it listens for traffic on.
- When a Domain is associated with an HTTPS edge, agents may no longer start
  endpoints on that Domain. You can always detach a Domain from your Edge if you want
  to create Endpoints on it from an Agent or Agent SDK.
- An HTTPS Edges has one or more Routes. Routes have selectors which enable you
  to process traffic for paths like `/app` or `/static` differently.
- Each Route can apply different Modules. Routes can also even send traffic to
  different Backends.
- HTTPS Edges do not create a corresponding HTTP endpoint. Instead, all HTTP
  traffic to domains associated with your HTTPS edges is automatically redirected
  to HTTPS.
- When you create an HTTPS edge via the dashboard, it will automatically create
  a new Domain with a random name and assign it to your Edge. If you are on the
  free plan and have created your free domain, it will adopt that domain.
- When you create an HTTPS edge via the dashboard, it will automatically create
  a Failover Backend with two entries. First, a tunnel group backend with a
  unique label and second an HTTP Response backend which renders an error if
  there are no tunnels online in the tunnel group.

### Modules

Use modules to modify the behavior of traffic flowing through your endpoints.

| Module                                             | Description                                                                                                    |
| -------------------------------------------------- | -------------------------------------------------------------------------------------------------------------- |
| [Basic Auth](basic-auth)                           | Require a username and password with HTTP Basic Auth.                                                          |
| [Circuit Breaker](circuit-breaker)                 | Protect upstream services by rejecting traffic when they become overwhelmed.                                   |
| [Compression](compression)                         | Accelerate upstream services by compressing HTTP response bodies with gzip or deflate.                         |
| [IP Restrictions](ip-restrictions)                 | Allow or deny traffic based on the source IP of connections.                                                   |
| [Mutual TLS](mutual-tls)                           | Enforce mutual TLS auth with a configured set of CAs.                                                          |
| [OAuth](oauth)                                     | Enforce an OAuth flow to well-known IdPs like Google, optionally authorizing users by domain or email address. |
| [OpenID Connect](openid-connect)                   | Enforce an OpenID Connect flow to a federated IdP.                                                             |
| [Request Headers](request-headers)                 | Add or remove headers from HTTP requests before they are sent to your upstream service.                        |
| [Response Headers](response-headers)               | Add or remove headers from HTTP responses before they are returned to the client.                              |
| [SAML](saml)                                       | Enforce a SAML flow to a federated IdP, optionally authorizing users by group.                                 |
| [TLS Termination](tls-termination)                 | Customize TLS termination behavior, like the minimum supported version of TLS.                                 |
| [Traffic Policy](traffic-policy)                   | Influence and control traffic to and from your upstream service by configuring a powerful policy engine.       |
| [User Agent Filter](user-agent-filter)             | Block bots or browsers with rules that allow or deny HTTP requests based on `User-Agent` header.               |
| [Webhook Verification](webhook-verification)       | Restrict access by verifying HTTP requests are signed by a webhook provider like Slack or GitHub.              |
| [Websocket TCP Converter](websocket-tcp-converter) | Convert binary websocket connections to backend TCP connections.                                               |

### Observability

[ngrok's events system](/obs/) can capture logs of HTTP requests to your
endpoints. ngrok publishes both Layer 4 (connection-level) and Layer 7
(request-level) events for HTTP traffic.

When HTTP requests to your endpoints are completed,
[http_request_complete.v0](/obs/reference/#http-request-complete) events
are published.

When TCP connections to your HTTP endpoints are completed,
[tcp_connection_closed.v0](/obs/reference/#tcp-connection-closed) events are
published.

### Errors

If ngrok fails to handle an HTTP request it will set the `ngrok-error-code`
header in the HTTP response with a [unique ngrok Error Code](/errors/)
describing the failure.

ngrok guarantees that the upstream service may never set the `ngrok-error-code`
HTTP response header so you know reliably that it was set by ngrok.

ngrok may return an error under the following conditions:

- A configured module rejected the request
- Your upstream service timed out or rejected the connection
- Your upstream service returned a response that was not valid HTTP
- ngrok encountered an internal error

### Pricing

HTTP endpoints are available on all plans.

Branded domains are available on the Pro and Enterprise plans.
