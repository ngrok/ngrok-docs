import {
	ExampleHTTP,
	TemplatingExamples,
} from "/examples/actions/url-rewrite.mdx";
import CelTemplateSyntaxExplanation from "/src/components/CelTemplateSyntaxExplanation.tsx";

# URL Rewrite

## Overview

The URL Rewrite action allows you to transform the URL path and query parameters of the incoming request.

## Example

Use this action config in your [Traffic Policy](/docs/http/traffic-policy/index.mdx)

<ExampleHTTP />

## Behavior

When executed, this action will replace all regex matches with the configured replacement. Before regex replacement, all [cel expressions](/docs/http/traffic-policy/expressions/writing-guide/) will be interpolated and replaced with their corresponding values.

## Reference

### Supported Directions

- Inbound

### Configuration

| Type          |
| ------------- |
| `url-rewrite` |

| Parameter | &nbsp; | Description                                                                                                                                                 |
| --------- | ------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `from`    | string | A regular expression string to match inside of the URL. Supports interpolating the results of [cel expressions](#templating-syntax) outside of regex.       |
| `to`      | string | A regular expression string to replace the `from` match with. Supports interpolating the results of [cel expressions](#templating-syntax) outside of regex. |
| `format`  | string | (default: `ngrok`) Determines interpolation format in `to`/`from` fields.                                                                                   |

### Templating Syntax

<CelTemplateSyntaxExplanation />

### Templating Examples

<TemplatingExamples />
