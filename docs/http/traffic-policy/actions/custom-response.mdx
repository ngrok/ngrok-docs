import {
	ExampleHTTP,
	TemplatingExamples,
} from "/examples/actions/custom-response.mdx";
import CelTemplateSyntaxExplanation from "/src/components/CelTemplateSyntaxExplanation.tsx";
import HttpHeaderTemplates from "./../../_http_header_templates.mdx";

# Custom Response

## Overview

The Custom Response policy action returns a hard-coded response back to the client that made a request to your endpoint.

## Example

Use this action config in your [Traffic Policy](/docs/http/traffic-policy/index.mdx)

<ExampleHTTP />

## Behavior

When executed as an inbound policy, this action bypasses the upstream server and immediately returns to the caller with
the configured response. When executed as an outbound policy, the response from the upstream server is overwritten with the
configured response.

If this action is executed, no further actions in the traffic policy will be executed.

## Reference

### Supported Directions

- Inbound
- Outbound

### Configuration

| Type              |
| ----------------- |
| `custom-response` |

| Parameter     | &nbsp;                    | Description                                                                                                                                        |
| ------------- | ------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| `status_code` | int                       | The status code of the response.                                                                                                                   |
| `content`     | string                    | The body of the response. Supports interpolating the results of [cel expressions](#templating-syntax).                                             |
| `headers`     | Map&lt;string, string&gt; | Headers to be added to the response. If `content-type` is not included in `headers`, this action will attempt to infer the correct `content-type`. |

### Templating Syntax

<CelTemplateSyntaxExplanation />

### Templating Examples

<TemplatingExamples />
