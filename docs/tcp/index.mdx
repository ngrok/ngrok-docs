---
sidebar_position: 1
title: Overview
pagination_next: tcp/ip-restrictions
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

import RandomKubernetesExample from "/examples/k8s/tcp-random.mdx";
import RandomAgentCliExample from "/examples/agent-cli/tcp-random.mdx";
import RandomAgentConfigExample from "/examples/agent-config/tcp-random.mdx";
import RandomSshExample from "/examples/ssh/tcp-random.mdx";
import RandomGoSdkExample from "/examples/go-sdk/tcp-random.mdx";
import RandomJavascriptSdkExample from "/examples/javascript-sdk/tcp-random.mdx";
import RandomPythonSdkExample from "/examples/python-sdk/tcp-random.mdx";
import RandomRustSdkExample from "/examples/rust-sdk/tcp-random.mdx";

import FixedKubernetesExample from "/examples/k8s/tcp-fixed.mdx";
import FixedAgentCliExample from "/examples/agent-cli/tcp-fixed.mdx";
import FixedAgentConfigExample from "/examples/agent-config/tcp-fixed.mdx";
import FixedSshExample from "/examples/ssh/tcp-fixed.mdx";
import FixedGoSdkExample from "/examples/go-sdk/tcp-fixed.mdx";
import FixedJavascriptSdkExample from "/examples/javascript-sdk/tcp-fixed.mdx";
import FixedPythonSdkExample from "/examples/python-sdk/tcp-fixed.mdx";
import FixedRustSdkExample from "/examples/rust-sdk/tcp-fixed.mdx";

import NonLocalKubernetesExample from "/examples/k8s/tcp-nonlocal.mdx";
import NonLocalAgentCliExample from "/examples/agent-cli/tcp-nonlocal.mdx";
import NonLocalAgentConfigExample from "/examples/agent-config/tcp-nonlocal.mdx";
import NonLocalSshExample from "/examples/ssh/tcp-nonlocal.mdx";
import NonLocalGoSdkExample from "/examples/go-sdk/tcp-nonlocal.mdx";
import NonLocalJavascriptSdkExample from "/examples/javascript-sdk/tcp-nonlocal.mdx";
import NonLocalPythonSdkExample from "/examples/python-sdk/tcp-nonlocal.mdx";
import NonLocalRustSdkExample from "/examples/rust-sdk/tcp-nonlocal.mdx";

import ProxyProtoKubernetesExample from "/examples/k8s/tcp-proxyproto.mdx";
import ProxyProtoAgentCliExample from "/examples/agent-cli/tcp-proxyproto.mdx";
import ProxyProtoAgentConfigExample from "/examples/agent-config/tcp-proxyproto.mdx";
import ProxyProtoSshExample from "/examples/ssh/tcp-proxyproto.mdx";
import ProxyProtoGoSdkExample from "/examples/go-sdk/tcp-proxyproto.mdx";
import ProxyProtoJavascriptSdkExample from "/examples/javascript-sdk/tcp-proxyproto.mdx";
import ProxyProtoPythonSdkExample from "/examples/python-sdk/tcp-proxyproto.mdx";
import ProxyProtoRustSdkExample from "/examples/rust-sdk/tcp-proxyproto.mdx";

# TCP Endpoints

## Overview

ngrok's TCP endpoints enable you to deliver any network service with a TCP-based
protocol. For example, it is commonly used to establish connectivity for:

- Remote access protocols like SSH, VNC and RDP
- Databases like MySQL, Postgres, MSSQL and SQLite
- IoT protocols like MQTT
- Gaming servers like Minecraft

If the service you are delivering uses TLS, prefer to create a [TLS Endpoint](/tls/).

Because the TCP protocol is low-level, ngrok offers very little functionality
to manipulate TCP traffic beyond restricting access via [IP
Restrictions](/tcp/ip-restrictions/).

## Example Usage

### Random Address

Listen on a random TCP address.

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<RandomAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<RandomAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<RandomSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<RandomGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<RandomJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<RandomPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<RandomRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<RandomKubernetesExample />
	</TabItem>
</Tabs>

<br />

### Fixed Address

Listen on the TCP Address `1.tcp.eu.ngrok.io:12345`. You must create this TCP
address ahead of time, see [TCP Addresses](/network-edge/domains-and-tcp-addresses#tcp-addresses).

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<FixedAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<FixedAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<FixedSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<FixedGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<FixedJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<FixedPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<FixedRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<FixedKubernetesExample />
	</TabItem>
</Tabs>

<br />

### Forward to non-local service

Forward to a non-local Postgres instance listening on your network at
`192.168.1.2:5432`.

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<NonLocalAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<NonLocalAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<NonLocalSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<NonLocalGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<NonLocalJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<NonLocalPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<NonLocalRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<NonLocalKubernetesExample />
	</TabItem>
</Tabs>

### PROXY Protocol

Add a [PROXY
protocol](https://www.haproxy.org/download/1.8/doc/proxy-protocol.txt) header
on connection to your upstream service. This sends connection information like
the original client IP address to your upstream service.

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<ProxyProtoAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<ProxyProtoAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<ProxyProtoSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<ProxyProtoGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<ProxyProtoJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<ProxyProtoPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<ProxyProtoRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<ProxyProtoKubernetesExample />
	</TabItem>
</Tabs>

## Behavior

### Endpoints

When your TCP endpoint is online, it will be available as an [Endpoint
resource](/api/resources/endpoints/). Endpoints have URLs, but there is no
standard scheme for TCP URLs so ngrok renders them as `tcp://`.

### TCP Addresses

If you would like your TCP endpoints to be fixed, you must first provision a
TCP address. TCP Addresses include a hostname and port component and look like
`1.tcp.ngrok.io:12345`. When you provision a TCP address, a random address will
be assigned to you. If you delete a TCP address, there is no way to provision
the same one again. TCP addresses may be managed via the dashboard and via API.

- [Provision a TCP Address via the ngrok Dashboard](https://dashboard.ngrok.com/cloud-edge/tcp-addresses)
- [Provision a TCP Address via API](/docs/api/resources/reserved-addrs/)

#### Customization

TCP Addresses are assigned randomly on an ngrok-controlled hostname with a
randomly-assigned port. You may not choose the hostname and you may not select
the port.

You may, however, simulate a customized hostname by creating a CNAME record to
the hostname of your assigned TCP address. If you do so, be aware that all
ports on that hostname, even those provisioned to other accounts will then be
available on your domain.

## Reference

### Edges

[Edges](/network-edge/edges) enable you to centrally manage your endpoints'
Module configurations in the ngrok dashboard or API instead of defining them
via an Agent or Agent SDK.

- A TCP Edge is attached to one or more TCP Addresses. For each TCP Address, it creates
  a TCP Endpoint that it listens for traffic on.
- When a TCP Address is associated with a TCP Edge, agents may no longer start
  endpoints on that TCP Address. You can always detach a TCP Address from your
  Edge if you want to create Endpoints on it from an Agent or Agent SDK.
- Modules on a TCP Edge are attached directly to the edge itself. There are no
  Routes.
- When you create a TCP Edge via the dashboard, it will automatically create a
  new TCP Address assign it to your Edge.
- When you create a TCP Edge via the dashboard, it will automatically create a
  tunnel group backend with a unique label.

### Modules

Use modules to modify the behavior of traffic flowing through your endpoints.

| Module                             | Description                                                 |
| ---------------------------------- | ----------------------------------------------------------- |
| [IP Restrictions](ip-restrictions) | Allow or deny traffic based on the source IP of connections |

### Observability

Use [ngrok's events system](/obs/) to capture logs of tcp connections to
your endpoints.

When TCP connections to your endpoints are closed,
[tcp_connection_closed.v0](/obs/reference/#tcp-connection-closed) events
are published.

### Errors

If an error is encountered while handling TCP connections to your endpoints for
any reason (e.g. no available backends, module rejected a connection or
internal server error), the connection will be closed. Because of the low-level
nature of the TCP protocol, there is no mechanism used to transmit information
about what error code was encountered.

You can use the use the [observability](#observability) primitives to
understand the error handling behavior of a connection.

### Pricing

TCP endpoints are available on all plans.

Fixed TCP Addresses are available on the Pro and Enterprise plans.
