import ConfigExample from "../../src/components/ConfigExample.tsx";

export const type = "redirect";
export const config = {
	format: "ngrok",
	from: "v0/user/([0-9]+).*",
	to: "v1/user?id=$1&$args",
	status_code: 301,
	headers: {
		rewrite: "true",
	},
};

export const ExampleHTTP = () => (
	<ConfigExample config={{ actions: [{ type, config }] }} />
);

export const CelSingleVariable = () => (
	<ConfigExample
		config={{
			format: "ngrok",
			from: "/v1/api/carmen/sandiego?found=${conn.geo.city}",
			status_code: 301,
			headers: {
				rewrite: "true",
			},
		}}
	/>
);

export const CelWithCastingExample = () => (
	<ConfigExample
		config={{
			format: "ngrok",
			to: "/v1/api/soon?time=${string(conn.start_ts)}",
			status_code: 301,
			headers: {
				rewrite: "true",
			},
		}}
	/>
);

export const CelWithCaptureGroups = () => (
	<ConfigExample
		config={{
			format: "ngrok",
			to: "/v1/api?lat=$1&long=${conn.geo.longitude}",
			status_code: 301,
			headers: {
				rewrite: "true",
			},
		}}
	/>
);
